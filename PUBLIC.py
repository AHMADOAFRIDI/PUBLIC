#Encrypt by MAHADI HASAN AFRIDI
#Github : https://github.com/MAHADI-143
import base64
exec(base64.b64decode('I09wZW4gU291cmNlIFB1YmxpYyBDbG9uaWluZyAKI0J5IE1yLVF1cmVzaGkKIy0tLS0tLS0tLS0tLS0tLS0tWyBJTVBPUlQtTU9EVUxFIF0tLS0tLS0tLS0tLS0tLS0tLS0tCmltcG9ydCByZXF1ZXN0cyxiczQsanNvbixvcyxzeXMscmFuZG9tLGRhdGV0aW1lLHRpbWUscmUKaW1wb3J0IHVybGxpYjMscmljaCxiYXNlNjQKZnJvbSByaWNoLnRhYmxlIGltcG9ydCBUYWJsZSBhcyBtZQpmcm9tIHJpY2guY29uc29sZSBpbXBvcnQgQ29uc29sZSBhcyBzb2wKZnJvbSBiczQgaW1wb3J0IEJlYXV0aWZ1bFNvdXAgYXMgc29wCmZyb20gY29uY3VycmVudC5mdXR1cmVzIGltcG9ydCBUaHJlYWRQb29sRXhlY3V0b3IgYXMgdHJlZApmcm9tIHJpY2guY29uc29sZSBpbXBvcnQgR3JvdXAgYXMgZ3AKZnJvbSByaWNoLnBhbmVsIGltcG9ydCBQYW5lbCBhcyBuZWwKZnJvbSByaWNoIGltcG9ydCBwcmludCBhcyBjZXRhawpmcm9tIHJpY2gubWFya2Rvd24gaW1wb3J0IE1hcmtkb3duIGFzIG1hcmsKZnJvbSByaWNoLmNvbHVtbnMgaW1wb3J0IENvbHVtbnMgYXMgY29sCmZyb20gcmljaCBpbXBvcnQgcHJpbnQgYXMgcnByaW50CmZyb20gcmljaCBpbXBvcnQgcHJldHR5CmZyb20gcmljaC50ZXh0IGltcG9ydCBUZXh0IGFzIHRla3oKcHJldHR5Lmluc3RhbGwoKQpDT049c29sKCkKIy0tLS0tLS0tLS0tLS0tLS0tLVsgVVNFUi1BR0VOVCBdLS0tLS0tLS0tLS0tLS0tLS0tLSMKdWdlbjI9W10KdWdlbj1bXQpjb2ticnV0PVtdCnNlcz1yZXF1ZXN0cy5TZXNzaW9uKCkKcHJpbmNwPVtdCnRyeToKCXByb3g9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9hcGkucHJveHlzY3JhcGUuY29tL3YyLz9yZXF1ZXN0PWRpc3BsYXlwcm94aWVzJnByb3RvY29sPXNvY2tzNCZ0aW1lb3V0PTEwMDAwMCZjb3VudHJ5PWFsbCZzc2w9YWxsJmFub255bWl0eT1hbGwnKS50ZXh0CglvcGVuKCcucHJveC50eHQnLCd3Jykud3JpdGUocHJveCkKZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgojQ2huZ2UgTmFtZSAKCXByaW50KCdbW1x4MWJbMTs5Mm3igKJceDFiWzE7OTdtXSBbXHgxYlsxOzk3bUFITUFEIEFMSSBdJykKcHJveD1vcGVuKCcucHJveC50eHQnLCdyJykucmVhZCgpLnNwbGl0bGluZXMoKQpmb3IgeGQgaW4gcmFuZ2UoMTAwMDApOgoJYT0nTW96aWxsYS81LjAgKFN5bWJpYW4vMzsgU2VyaWVzNjAvJwoJYj1yYW5kb20ucmFuZHJhbmdlKDEsIDkpCgljPXJhbmRvbS5yYW5kcmFuZ2UoMSwgOSkKCWQ9J05va2lhJwoJZT1yYW5kb20ucmFuZHJhbmdlKDEwMCwgOTk5OSkKCWY9Jy8xMTAuMDIxLjAwMjg7IFByb2ZpbGUvTUlEUC0yLjEgQ29uZmlndXJhdGlvbi9DTERDLTEuMSApIEFwcGxlV2ViS2l0LzUzNS4xIChLSFRNTCwgbGlrZSBHZWNrbykgTm9raWFCcm93c2VyLycKCWc9cmFuZG9tLnJhbmRyYW5nZSgxLCA5KQoJaD1yYW5kb20ucmFuZHJhbmdlKDEsIDQpCglpPXJhbmRvbS5yYW5kcmFuZ2UoMSwgNCkKCWo9cmFuZG9tLnJhbmRyYW5nZSgxLCA0KQoJaz0nTW9iaWxlIFNhZmFyaS81MzUuMScKCXVha3U9KGYne2F9e2J9LntjfSB7ZH17ZX17Zn17Z30ue2h9LntpfS57an0ge2t9JykKCXVnZW4yLmFwcGVuZCh1YWt1KQoKCglhYT0nTW96aWxsYS81LjAgKExpbnV4OyBVOyBBbmRyb2lkJwoJYj1yYW5kb20uY2hvaWNlKFsnNicsJzcnLCc4JywnOScsJzEwJywnMTEnLCcxMiddKQoJYz0nIGVuLXVzOyBHVC0nCglkPXJhbmRvbS5jaG9pY2UoWydBJywnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCcsICdJJywgJ0onLCAnSycsICdMJywgJ00nLCAnTicsICdPJywgJ1AnLCAnUScsICdSJywgJ1MnLCAnVCcsICdVJywgJ1YnLCAnVycsICdYJywgJ1knLCAnWiddKQoJZT1yYW5kb20ucmFuZHJhbmdlKDEsIDk5OSkKCWY9cmFuZG9tLmNob2ljZShbJ0EnLCdCJywgJ0MnLCAnRCcsICdFJywgJ0YnLCAnRycsICdIJywgJ0knLCAnSicsICdLJywgJ0wnLCAnTScsICdOJywgJ08nLCAnUCcsICdRJywgJ1InLCAnUycsICdUJywgJ1UnLCAnVicsICdXJywgJ1gnLCAnWScsICdaJ10pCglnPSdBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvJwoJaD1yYW5kb20ucmFuZHJhbmdlKDczLDEwMCkKCWk9JzAnCglqPXJhbmRvbS5yYW5kcmFuZ2UoNDIwMCw0OTAwKQoJaz1yYW5kb20ucmFuZHJhbmdlKDQwLDE1MCkKCWw9J01vYmlsZSBTYWZhcmkvNTM3LjM2JwoJdWFrdTI9Zid7YWF9IHtifTsge2N9e2R9e2V9e2Z9KSB7Z317aH0ue2l9LntqfS57a30ge2x9JwoJdWdlbi5hcHBlbmQodWFrdTIpCmZvciB4IGluIHJhbmdlKDEwKToKCWE9J01vemlsbGEvNS4wIChTQU1TVU5HOyBTQU1TVU5HLUdULVMnCgliPXJhbmRvbS5yYW5kcmFuZ2UoMTAwLCA5OTk5KQoJYz1yYW5kb20ucmFuZHJhbmdlKDEwMCwgOTk5OSkKCWQ9cmFuZG9tLmNob2ljZShbJ0EnLCdCJywgJ0MnLCAnRCcsICdFJywgJ0YnLCAnRycsICdIJywgJ0knLCAnSicsICdLJywgJ0wnLCAnTScsICdOJywgJ08nLCAnUCcsICdRJywgJ1InLCAnUycsICdUJywgJ1UnLCAnVicsICdXJywgJ1gnLCAnWScsICdaJ10pCgllPXJhbmRvbS5jaG9pY2UoWydBJywnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCcsICdJJywgJ0onLCAnSycsICdMJywgJ00nLCAnTicsICdPJywgJ1AnLCAnUScsICdSJywgJ1MnLCAnVCcsICdVJywgJ1YnLCAnVycsICdYJywgJ1knLCAnWiddKQoJZj1yYW5kb20uY2hvaWNlKFsnQScsJ0InLCAnQycsICdEJywgJ0UnLCAnRicsICdHJywgJ0gnLCAnSScsICdKJywgJ0snLCAnTCcsICdNJywgJ04nLCAnTycsICdQJywgJ1EnLCAnUicsICdTJywgJ1QnLCAnVScsICdWJywgJ1cnLCAnWCcsICdZJywgJ1onXSkKCWc9cmFuZG9tLmNob2ljZShbJ0EnLCdCJywgJ0MnLCAnRCcsICdFJywgJ0YnLCAnRycsICdIJywgJ0knLCAnSicsICdLJywgJ0wnLCAnTScsICdOJywgJ08nLCAnUCcsICdRJywgJ1InLCAnUycsICdUJywgJ1UnLCAnVicsICdXJywgJ1gnLCAnWScsICdaJ10pCgloPXJhbmRvbS5yYW5kcmFuZ2UoMSwgOSkKCWk9JzsgVTsgQmFkYS8xLjI7IGVuLXVzKSBBcHBsZVdlYktpdC81MzMuMSAoS0hUTUwsIGxpa2UgR2Vja28pIERvbGZpbi8nCglqPXJhbmRvbS5yYW5kcmFuZ2UoMSwgOSkKCWs9cmFuZG9tLnJhbmRyYW5nZSgxLCA5KQoJbD0nTW9iaWxlIFdWR0EgU01NLU1NUy8xLjIuMCBPUE4tQicKCXVhaz1mJ3thfXtifS97Y317ZH17ZX17Zn17Z317aH17aX17an0ue2t9IHtsfScKZGVmIHVha3UoKToKCXRyeToKCQl1YT1vcGVuKCdiYm5ldy50eHQnLCdyJykucmVhZCgpLnNwbGl0bGluZXMoKQoJCWZvciB1YiBpbiB1YToKCQkJdWdlbi5hcHBlbmQodWIpCglleGNlcHQ6CgkJYT1yZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ2l0aHViLmNvbS9FQy0xNzA5L2EvYmxvYi9tYWluL2JibmV3LnR4dCcpLnRleHQKCQl1YT1vcGVuKCcuYmJuZXcudHh0JywndycpCgkJYWE9cmUuZmluZGFsbCgnbGluZSI+KC4qPyk8JyxzdHIoYSkpCgkJZm9yIHVuIGluIGFhOgoJCQl1YS53cml0ZSh1bisnXG4nKQoJCXVhPW9wZW4oJy5iYm5ldy50eHQnLCdyJykucmVhZCgpLnNwbGl0bGluZXMoKQojLS0tLS0tLS0tLS0tWyBJTkRJQ0FUSU9OIF0tLS0tLS0tLS0tLS0tLS0jCmlkLGlkMixsb29wLG9rLGNwLGFrdW4sb3ByZWssbWV0aG9kLGxpc2Vuc2lrdSx0YXBsaWthc2ksdG9rZW5rdSx1aWQsbGlzZW5zaWt1bmk9IFtdLFtdLDAsMCwwLFtdLFtdLFtdLFtdLFtdLFtdLFtdLFtdCmNva2JydXQ9W10KcHdwbHVzcyxwd255YT1bXSxbXQojLS0tLS0tLS0tLS0tWyBXQVJOQS1DT0xPUiBdLS0tLS0tLS0tLS0tLS0jClAgPSAnXHgxYlsxOzk3bScKTSA9ICdceDFiWzE7OTFtJwpIID0gJ1x4MWJbMTs5Mm0nCksgPSAnXHgxYlsxOzkzbScKQiA9ICdceDFiWzE7OTRtJwpVID0gJ1x4MWJbMTs5NW0nIApPID0gJ1x4MWJbMTs5Nm0nCk4gPSAnXHgxYlswbScgICAgClogPSAiXDAzM1sxOzMwbSIKc2lyID0gJ1wwMzNbNDFtXHgxYlsxOzk3bScKeCA9ICdcMzNbbScgIyBERUZBVUxUCm0gPSAnXHgxYlsxOzkxbScgI1JFRCArCmsgPSAnXDAzM1s5M20nICMgS1VOSU5HICsKaCA9ICdceDFiWzE7OTJtJyAjIEhJSkFVICsKaGggPSAnXDAzM1szMm0nICMgSElKQVUgLQp1ID0gJ1wwMzNbOTVtJyAjIFVOR1UKa2sgPSAnXDAzM1szM20nICMgS1VOSU5HIC0KYiA9ICdcMzNbMTs5Nm0nICMgQklSVSAtCnAgPSAnXHgxYlswOzM0bScgIyBCSVJVICsKYXN1ID0gcmFuZG9tLmNob2ljZShbbSxrLGgsdSxiXSkKIy0tLS0tLS0tLS0tLS0tLS0tLS0tWyBDT05WRVJURVItQlVMQU4gXS0tLS0tLS0tLS0tLS0tIwpkaWMgPSB7JzEnOidKYW51YXJ5JywnMic6J0ZlYnJ1YXJ5JywnMyc6J01hcmNoJywnNCc6J0FwcmlsJywnNSc6J01heScsJzYnOidKdW5lJywnNyc6J0p1bHknLCc4JzonQXVndXN0JywnOSc6J1NlcHRlbWJlcicsJzEwJzonT2N0b2JlcicsJzExJzonTm92ZW1iZXInLCcxMic6J0RlY2VtYmVyJ30KZGljMiA9IHsnMDEnOidKYW51YXJ5JywnMDInOidGZWJydWFyeScsJzAzJzonTWFyY2gnLCcwNCc6J0FwcmlsJywnMDUnOidNYXknLCcwNic6J0p1bmUnLCcwNyc6J0p1bHknLCcwOCc6J0F1Z3VzdCcsJzA5JzonU2VwdGVtYmVyJywnMTAnOidPY3RvYmVyJywnMTEnOidOb3ZlbWJlcicsJzEyJzonRGV2ZW1iZXInfQp0Z2wgPSBkYXRldGltZS5kYXRldGltZS5ub3coKS5kYXkKYmxuID0gZGljWyhzdHIoZGF0ZXRpbWUuZGF0ZXRpbWUubm93KCkubW9udGgpKV0KdGhuID0gZGF0ZXRpbWUuZGF0ZXRpbWUubm93KCkueWVhcgpva2MgPSAnT0stJytzdHIodGdsKSsnLScrc3RyKGJsbikrJy0nK3N0cih0aG4pKycudHh0JwpjcGMgPSAnQ1AtJytzdHIodGdsKSsnLScrc3RyKGJsbikrJy0nK3N0cih0aG4pKycudHh0JwojLS0tLS0tLS0tLS0tLS0tLS0tWyBNQUNISU5FLVNVUFBPUlQgXS0tLS0tLS0tLS0tLS0tLSMKZGVmIGFsdmlub194eSh1KToKICAgICAgICBmb3IgZSBpbiB1ICsgIlxuIjpzeXMuc3Rkb3V0LndyaXRlKGUpO3N5cy5zdGRvdXQuZmx1c2goKTt0aW1lLnNsZWVwKDAuMDA1KQpkZWYgY2xlYXIoKToKCW9zLnN5c3RlbSgnY2xlYXInKQpkZWYgYmFjaygpOgoJbG9naW4oKQojLS0tLS0tLS0tLS0tLS0tLS0tWyBMT0dPIF0tLS0tLS0tLS0tLS0tLS0tLSMKI0xvZ28gQWRkIEtybG8gTmljaHkgQXBuYRoaCmRlZiBiYW5uZXIoKToKCWNsZWFyKCkKCXNvbCgpCgliYW49JycnIMKpIERPTidUIE1BS0UgWU9VUiBTRUxGIExJS0UgTUUKICAgICBCRUNBVVNFIEkgQU0gVEhFIE9ORSAaCiBfX19fXyAgXyAgIF8gICAgICAgICBfX19fXyAgX19fICAgICAgIF9fX19fICBfICAgICAgXyAKKCAgXyAgKSggKSAoICkvJ1xfL2BcKCAgXyAgKSggIF9gXCAgICAoICBfICApKCApICAgIChfKQp8IChfKSB8fCB8X3wgfHwgICAgIHx8IChfKSB8fCB8ICkgfCAgIHwgKF8pIHx8IHwgICAgfCB8CnwgIF8gIHx8ICBfICB8fCAoXykgfHwgIF8gIHx8IHwgfCApICAgfCAgXyAgfHwgfCAgXyB8IHwKfCB8IHwgfHwgfCB8IHx8IHwgfCB8fCB8IHwgfHwgfF8pIHwgICB8IHwgfCB8fCB8XyggKXwgfAooXykgKF8pKF8pIChfKShfKSAoXykoXykgKF8pKF9fX18vJyAgIChfKSAoXykoX19fXy8nKF8pICAgCgpBVVRIT1IgICAgICAgICAgPT4gQUhNQUQgQUxJIEFGUklESQpHSVRIVUIgICAgICAgICAgPT4gQUhNQURPQUZSSURJCldIQVRTQUFQICAgICAgICA9PiAwMzI1NTg0MjAwNAogJycnCgoKCWNldGFrKG5lbChiYW4sIHN0eWxlPSd3aGl0ZScpKQojLS0tLS0tLS0tLS0tLS0tLS0tLS1bIEJBR0lBTi1NQVNVSyBdLS0tLS0tLS0tLS0tLS0jCmRlZiBsb2dpbigpOgoJdHJ5OgoJCXRva2VuID0gb3BlbignLnRva2VuLnR4dCcsJ3InKS5yZWFkKCkKCQljb2sgPSBvcGVuKCcuY29rLnR4dCcsJ3InKS5yZWFkKCkKCQl0b2tlbmt1LmFwcGVuZCh0b2tlbikKCQl0cnk6CgkJCXN5ID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZT9maWVsZHM9aWQsbmFtZSZhY2Nlc3NfdG9rZW49Jyt0b2tlbmt1WzBdLCBjb29raWVzPXsnY29va2llJzpjb2t9KQoJCQlzeTIgPSBqc29uLmxvYWRzKHN5LnRleHQpWyduYW1lJ10KCQkJc3kzID0ganNvbi5sb2FkcyhzeS50ZXh0KVsnaWQnXQoJCQltZW51KHN5MixzeTMpCgkJZXhjZXB0IEtleUVycm9yOgoJCQlsb2dpbl9sYWdpMzM0KCkKCQlleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CgkJCWxpID0gJyMgUFJPQkxFTSBJTlRFUk5FVCBDT05ORUNUSU9OLCBDSEVDSyBBTkQgVFJZIEFHQUlOJwoJCQlsbyA9IG1hcmsobGksIHN0eWxlPSdyZWQnKQoJCQlzb2woKS5wcmludChsbywgc3R5bGU9J3B1cnBsZScpCgkJCWV4aXQoKQoJZXhjZXB0IElPRXJyb3I6CgkJbG9naW5fbGFnaTMzNCgpCmRlZiBsb2dpbl9sYWdpMzM0KCk6Cgl0cnk6CgkJb3Muc3lzdGVtKCdjbGVhcicpCgkJYmFubmVyKCkKCQljZXRhayhuZWwoJ1x0ICAgICAgICAgICAgIFdFTExDT01FIDogW2dyZWVuXUVOSk9ZIFBVQkxJQyBUT09MW3llbGxvd10gJykpCgkJYXN1ID0gcmFuZG9tLmNob2ljZShbbSxrLGgsYix1XSkKCQljb29raWU9aW5wdXQoZicgIFt7aH3igKJ7dX1dIElOUFVUIENPT0tJRVMgOnthc3V9ICcpCgkJZGF0YSA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9idXNpbmVzcy5mYWNlYm9vay5jb20vYnVzaW5lc3NfbG9jYXRpb25zIiwgaGVhZGVycyA9IHsidXNlci1hZ2VudCI6ICJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgOTsgWElBT01JIE1pIE5vdGUgMTAgUHJvIEJ1aWxkL05NRjI2RikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzc2LjAuMzgwOS4xMTEgTW9iaWxlIFNhZmFyaS81MzcuMzYgQWxvaGFCcm93c2VyLzIuMTUuMCIsInJlZmVyZXIiOiAiaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tLyIsImhvc3QiOiAiYnVzaW5lc3MuZmFjZWJvb2suY29tIiwib3JpZ2luIjogImh0dHBzOi8vYnVzaW5lc3MuZmFjZWJvb2suY29tIiwidXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyIgOiAiMSIsImFjY2VwdC1sYW5ndWFnZSI6ICJpZC1JRCxpZDtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNyIsImNhY2hlLWNvbnRyb2wiOiAibWF4LWFnZT0wIiwiYWNjZXB0IjoidGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCpbaW5zZXJ0ZWQgYnkgY3l0aG9uIHRvIGF2b2lkIGNvbW1lbnQgY2xvc2VyXS9baW5zZXJ0ZWQgYnkgY3l0aG9uIHRvIGF2b2lkIGNvbW1lbnQgc3RhcnRdKjtxPTAuOCIsImNvbnRlbnQtdHlwZSI6InRleHQvaHRtbDsgY2hhcnNldD11dGYtOCJ9LCBjb29raWVzID0geyJjb29raWUiOmNvb2tpZX0pIAoJCWZpbmRfdG9rZW4gPSByZS5zZWFyY2goIihFQUFHXHcrKSIsIGRhdGEudGV4dCkKCQlrZW49b3BlbigiLnRva2VuLnR4dCIsICJ3Iikud3JpdGUoZmluZF90b2tlbi5ncm91cCgxKSkKCQljb2s9b3BlbigiLmNvay50eHQiLCAidyIpLndyaXRlKGNvb2tpZSkKCQlwcmludChmJyAge3V9W3tofeKAont1fV17aH0gTE9HSU4gRE9ORS4uLi4uLi4uLlJVTiBBR0FJTiEhISF7a30gJyk7dGltZS5zbGVlcCgxKQoJCWV4aXQoKQoJZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgoJCW9zLnN5c3RlbSgicm0gLWYgLnRva2VuLnR4dCIpCgkJb3Muc3lzdGVtKCJybSAtZiAuY29rLnR4dCIpCgkJcHJpbnQoZicgICVzWyVzeCVzXSVzIExPR0lOIEVSUk9SLi4uLlRSWSBBR0FJTiAhISVzJyUoeCxrLHgsbSx4KSkKCQlleGl0KCkKIy0tLS0tLS0tLS0tLS0tLS0tLVsgQkFHSUFOLU1FTlUgXS0tLS0tLS0tLS0tLS0tLS0jCmRlZiBtZW51KG15X25hbWUsbXlfaWQpOgoJdHJ5OgoJCXRva2VuID0gb3BlbignLnRva2VuLnR4dCcsJ3InKS5yZWFkKCkKCQljb2sgPSBvcGVuKCcuY29rLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50KCdbw5ddIENvb2tpZXMgRXJyb3IgICcpCgkJdGltZS5zbGVlcCg1KQoJCWxvZ2luX2xhZ2kzMzQoKQoJb3Muc3lzdGVtKCdjbGVhcicpCgliYW5uZXIoKQoJaXAgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vYXBpLmlwaWZ5Lm9yZyIpLnRleHQKCWNldGFrKG5lbCgnXHRXRUxDT00gW2dyZWVuXSVzW3B1cnBsZV0gTE9HSU4gVVNFUiclKG15X25hbWUpKSkKCWFsdmlub194eShmJ3t1fUlEICA6ICcrc3RyKG15X2lkKSkKCWFsdmlub194eShmJ3tofUlQICA6IHtpcH0nKQoJY2V0YWsobmVsKCdcdFtib2xkIGN5YW5dICAgICAgICAgICDigKIgQ0hPT1NFIENMT05JTkcgTUVOVSDigKIgWy9ib2xkIGN5YW5dJykpCglwcmludCgnJykKCWNldGFrKG5lbCgnW2JvbGQgZ3JlZW5dIOKdpO+4jzEuIENSQUNLIFBVQkxJSyBJRFxuIOKdpO+4jzIuIENIRUsgUkVTVUxUU1xuIOKdpO+4jzAuIEVYSVQgW2JvbGQgZ3JlZW5dJykpIAoJX19fX19jb3dva19fcGlua19fX19fID0gaW5wdXQoJ1xuIENIT09TRSA6ICcpCglpZiBfX19fX2Nvd29rX19waW5rX19fX18gaW4gWycxJ106CgkJZHVtcF9tYXNzYWwoKQoJZWxpZiBfX19fX2Nvd29rX19waW5rX19fX18gaW4gWycyJ106CgkJcmVzdWx0KCkKCWVsaWYgX19fX19jb3dva19fcGlua19fX19fIGluIFsnMyddOgoJCWR1bXBfbWFzc2FsKCkKCWVsaWYgX19fX19jb3dva19fcGlua19fX19fIGluIFsnNCddOgoJCWNyYWNrX2ZpbGUoKQoJZWxpZiBfX19fX2Nvd29rX19waW5rX19fX18gaW4gWyc1J106CgkJcmVzdWx0KCkKCWVsaWYgX19fX19jb3dva19fcGlua19fX19fIGluIFsnMCddOgoJCW9zLnN5c3RlbSgncm0gLXJmIC50b2tlbi50eHQnKQoJCW9zLnN5c3RlbSgncm0gLXJmIC5jb29raWUudHh0JykKCQlwcmludCgnPT5ET05FIExPR1VUICcpCgkJZXhpdCgpCgllbHNlOgoJCXByaW50KCc9PkNIT09TRSBSSUdIVCBNTkVVICcpCgkJYmFjaygpCmRlZiBlcnJvcigpOgoJcHJpbnQoZid7a309PlRSWSBBR0FJTiB7dX0nKQoJdGltZS5zbGVlcCg0KQoJYmFjaygpCiMtLS0tLS0tLS0tLS0tLS0tLVsgSEFTSUwtQ1JBQ0sgXS0tLS0tLS0tLS0tLS0tLS0tIwpkZWYgcmVzdWx0KCk6CglwcmludCgnPT5PayBJRFogJykKCXByaW50KCc9PkNQIElEWiAnKQoJcHJpbnQoJz0+RVhJVAknKQoJa3ogPSBpbnB1dCgnXG49PkNIT09TRSA6ICcpCglpZiBreiBpbiBbJzEnLCcwMSddOgoJCXRyeTp2aW4gPSBvcy5saXN0ZGlyKCdDUCcpCgkJZXhjZXB0IEZpbGVOb3RGb3VuZEVycm9yOgoJCQlwcmludCgnPT5GaWxlIFRpZGFrIERpIFRlbXVrYW4gJykKCQkJdGltZS5zbGVlcCgzKQoJCQliYWNrKCkKCQlpZiBsZW4odmluKT09MDoKCQkJcHJpbnQoJz0+QW5kYSBUaWRhayBNZW1pbGlraSBIYXNpbCBDUCAnKQoJCQl0aW1lLnNsZWVwKDIpCgkJCWJhY2soKQoJCWVsc2U6CgkJCWNpaCA9IDAKCQkJbG9sID0ge30KCQkJZm9yIGlzaSBpbiB2aW46CgkJCQl0cnk6aGVtID0gb3BlbignQ1AvJytpc2ksJ3InKS5yZWFkbGluZXMoKQoJCQkJZXhjZXB0OmNvbnRpbnVlCgkJCQljaWgrPTEKCQkJCWlmIGNpaDwxMDoKCQkJCQlub20gPSAnMCcrc3RyKGNpaCkKCQkJCQlsb2wudXBkYXRlKHtzdHIoY2loKTpzdHIoaXNpKX0pCgkJCQkJbG9sLnVwZGF0ZSh7bm9tOnN0cihpc2kpfSkKCQkJCQlwcmludCgnWycrbm9tKyddICcraXNpKycgWyAnK3N0cihsZW4oaGVtKSkrJyBBY2NvdW50IF0nK3UpCgkJCQllbHNlOgoJCQkJCWxvbC51cGRhdGUoe3N0cihjaWgpOnN0cihpc2kpfSkKCQkJCQlwcmludCgnWycrc3RyKGNpaCkrJ10gJytpc2krJyBbICcrc3RyKGxlbihoZW0pKSsnIEFjY291bnQgXScrdSkKCQkJZ2VlaCA9IGlucHV0KCdcbj0+Q0hPU0UgOiAnKQoJCQl0cnk6Z2VoID0gbG9sW2dlZWhdCgkJCWV4Y2VwdCBLZXlFcnJvcjoKCQkJCXByaW50KCc9PlBpbGloIFlhbmcgQmVuZXIgS29udG9sICcpCgkJCQlleGl0KCkKCQkJdHJ5OmxpbiA9IG9wZW4oJ0NQLycrZ2VoLCdyJykucmVhZCgpLnNwbGl0bGluZXMoKQoJCQlleGNlcHQ6CgkJCQlwcmludCgnPT5GaWxlIFRpZGFrIERpIFRlbXVrYW4gJykKCQkJCXRpbWUuc2xlZXAoMikKCQkJCWJhY2soKQoJCQlub2NwPTAKCQkJZm9yIGNwa3UgaW4gcmFuZ2UobGVuKGxpbikpOgoJCQkJY3BrdW5pPWxpbltub2NwXS5zcGxpdCgnfCcpCgkJCQljcGt1aD1mJyMgSUQgOiB7Y3BrdW5pWzBdfSBQQVNTV09SRCA6IHtjcGt1bmlbMV19JwoJCQkJc29sKCkucHJpbnQobWFyayhjcGt1aCxzdHlsZT0ieWVsbG93IikpCgkJCQlub2NwICs9MQoJCQlpbnB1dCgnWyBLbGlrIEVudGVyIF0nKQoJCQliYWNrKCkKCWVsaWYga3ogaW4gWycyJywnMDInXToKCQl0cnk6dmluID0gb3MubGlzdGRpcignT0snKQoJCWV4Y2VwdCBGaWxlTm90Rm91bmRFcnJvcjoKCQkJcHJpbnQoJz0+RmlsZSBUaWRhayBEaSBUZW11a2FuICcpCgkJCXRpbWUuc2xlZXAoMikKCQkJYmFjaygpCgkJaWYgbGVuKHZpbik9PTA6CgkJCXByaW50KCc9PkFuZGEgVGlkYWsgTWVtcHVueWFpIEZpbGUgT0sgJykKCQkJdGltZS5zbGVlcCgyKQoJCQliYWNrKCkKCQllbHNlOgoJCQljaWggPSAwCgkJCWxvbCA9IHt9CgkJCWZvciBpc2kgaW4gdmluOgoJCQkJdHJ5OmhlbSA9IG9wZW4oJ09LLycraXNpLCdyJykucmVhZGxpbmVzKCkKCQkJCWV4Y2VwdDpjb250aW51ZQoJCQkJY2loKz0xCgkJCQlpZiBjaWg8MTAwOgoJCQkJCW5vbSA9ICcwJytzdHIoY2loKQoJCQkJCWxvbC51cGRhdGUoe3N0cihjaWgpOnN0cihpc2kpfSkKCQkJCQlsb2wudXBkYXRlKHtub206c3RyKGlzaSl9KQoJCQkJCXByaW50KCdbJytub20rJ10gJytpc2krJyBbICcrc3RyKGxlbihoZW0pKSsnIEFjY291bnQgXScrdSkKCQkJCWVsc2U6CgkJCQkJbG9sLnVwZGF0ZSh7c3RyKGNpaCk6c3RyKGlzaSl9KQoJCQkJCXByaW50KCdbJytzdHIoY2loKSsnXSAnK2lzaSsnIFsgJytzdHIobGVuKGhlbSkpKycgQWNjb3VudCBdJyt1KQoJCQlnZWVoID0gaW5wdXQoJ1xuPT5QaWxpaCA6ICcpCgkJCXRyeTpnZWggPSBsb2xbZ2VlaF0KCQkJZXhjZXB0IEtleUVycm9yOgoJCQkJcHJpbnQoJz0+UGlsaWggWWFuZyBCZW5lciBUT0xPTCAnKQoJCQkJZXhpdCgpCgkJCXRyeTpsaW4gPSBvcGVuKCdPSy8nK2dlaCwncicpLnJlYWQoKS5zcGxpdGxpbmVzKCkKCQkJZXhjZXB0OgoJCQkJcHJpbnQoJz0+RmlsZSBUaWRhayBEaSBUZW11a2FuICcpCgkJCQl0aW1lLnNsZWVwKDIpCgkJCQliYWNrKCkKCQkJbm9jcD0wCgkJCWZvciBjcGt1IGluIHJhbmdlKGxlbihsaW4pKToKCQkJCWNwa3VuaT1saW5bbm9jcF0uc3BsaXQoJ3wnKQoJCQkJY3BrdWg9ZicjIElEIDoge2Nwa3VuaVswXX0gUEFTU1dPUkQgOiB7Y3BrdW5pWzFdfScKCQkJCXNvbCgpLnByaW50KG1hcmsoY3BrdWgsc3R5bGU9ImdyZWVuIikpCgkJCQlwcmludChmJ3toaH1DT09LSUUgOiB7dX17Y3BrdW5pWzJdfScpCgkJCQlub2NwICs9MQoJCQlpbnB1dCgnWyBLbGlrIEVudGVyIF0nKQoJCQliYWNrKCkKCWVsaWYga3ogaW4gWycwJywnMDAnXToKCQliYWNrKCkKCWVsc2U6CgkJcHJpbnQoJz0+UGlsaWggWWFuZyBCZW5lciBUT0xPTCAnKQoJCWV4aXQoKQojLS0tLS0tLS0tLS0tLS0tLS0tLVsgQ1JBQ0stUFVCTElLIF0tLS0tLS0tLS0tLS0tLS0tIwpkZWYgZHVtcF9tYXNzYWwoKToKCXRyeToKCQl0b2tlbiA9IG9wZW4oJy50b2tlbi50eHQnLCdyJykucmVhZCgpCgkJY29rID0gb3BlbignLmNvay50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlleGl0KCkKCXRyeToKCQlqdW0gPSBpbnQoaW5wdXQoJz0+RU5URVIgTElNVCBJRFogOiAnKSkKCWV4Y2VwdCBWYWx1ZUVycm9yOgoJCXByaW50KCd7a309Pk5PVCBKQU5JICcpCgkJZXhpdCgpCglpZiBqdW08MSBvciBqdW0+MTAwMDAwMDAwOgoJCXByaW50KCc9PlRSWSBBR0FJTiAnKQoJCWV4aXQoKQoJc2VzPXJlcXVlc3RzLlNlc3Npb24oKQoJeXogPSAwCglmb3IgbWV0IGluIHJhbmdlKGp1bSk6CgkJeXorPTEKCQlrbCA9IGlucHV0KCc9PmlEIExOSyAnK3N0cih5eikrJyA6ICcpCgkJdWlkLmFwcGVuZChrbCkKCWZvciB1c2VyciBpbiB1aWQ6CgkJdHJ5OgoJCQljb2wgPSBzZXMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS92Mi4wLycrdXNlcnIrJz9maWVsZHM9ZnJpZW5kcy5saW1pdCg1MDAwKSZhY2Nlc3NfdG9rZW49Jyt0b2tlbmt1WzBdLCBjb29raWVzID0geydjb29raWVzJzpjb2t9KS5qc29uKCkKCQkJZm9yIG1pIGluIGNvbFsnZnJpZW5kcyddWydkYXRhJ106CgkJCQl0cnk6CgkJCQkJaXNvID0gKG1pWydpZCddKyd8JyttaVsnbmFtZSddKQoJCQkJCWlmIGlzbyBpbiBpZDpwYXNzCgkJCQkJZWxzZTppZC5hcHBlbmQoaXNvKQoJCQkJZXhjZXB0OmNvbnRpbnVlCgkJZXhjZXB0IChLZXlFcnJvcixJT0Vycm9yKToKCQkJcGFzcwoJCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQkJcHJpbnQoJ3trfT0+VFJZIEFHQUlOICcpCgkJCWV4aXQoKQoJdHJ5OgoJCXByaW50KCcnKQoJCXByaW50KGYne2t9PT5UT1RBTCBJROKYhXtifScrc3RyKGxlbihpZCkpKQoJCXNldHRpbmcoKQoJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgoJCXByaW50KGYne3V9JykKCQlwcmludCgnPT5TaW55YWwgTG8ga2VrIEtvbnRvbCAnKQoJCWJhY2soKQoJZXhjZXB0IChLZXlFcnJvcixJT0Vycm9yKToKCQlwcmludChmJ+KepT0+e2t9IElGIElEIElTIFBVQkxJQyBUSEVOIFRSWSBBR0FJTiBXSVRIIE5FVyBDT09LSUUgT1RIUldTRSBDSEVLIFlPVVIgSUQgTE5LIHt1fScpCgkJdGltZS5zbGVlcCgzKQoJCWJhY2soKQojLS0tLS0tLS0tLS0tLS0tLS0tLVsgQ1JBQ0stUEVOR0lLVVQgXS0tLS0tLS0tLS0tLS0tLS0jCmRlZiBkdW1wX3Blbmdpa3V0KCk6Cgl0cnk6CgkJdG9rZW4gPSBvcGVuKCcudG9rZW4udHh0JywncicpLnJlYWQoKQoJCWNvayA9IG9wZW4oJy5jb2sudHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJZXhpdCgpCglwcmludCgnPT5UWVBFIE1FIElGIFlPVSBXTlQgRFVNUCBUT0tFTiBJRCBGUklFTkRTICcpCglwaWwgPSBpbnB1dCgn4p6l4p6jRU5URVIgSUQgTElOSyA6ICcpCgl0cnk6CgkJa29oMiA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJytwaWwrJz9maWVsZHM9c3Vic2NyaWJlcnMubGltaXQoOTk5OTkpJmFjY2Vzc190b2tlbj0nK3Rva2Vua3VbMF0sY29va2llcz17J2Nvb2tpZSc6IGNva30pLmpzb24oKQoJCWZvciBwaSBpbiBrb2gyWydzdWJzY3JpYmVycyddWydkYXRhJ106CgkJCXRyeTppZC5hcHBlbmQocGlbJ2lkJ10rJ3wnK3BpWyduYW1lJ10pCgkJCWV4Y2VwdDpjb250aW51ZQoJCXByaW50KGYnPT5Ub3RhbCBJZHogOntofSAnK3N0cihsZW4oaWQpKSkKCQlzZXR0aW5nKCkKCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQlwcmludCgnPT5DSEVLIElOVEVSTkVUICcpCgkJZXhpdCgpCglleGNlcHQgKEtleUVycm9yLElPRXJyb3IpOgoJCXByaW50KCc9PkVST1JSICcpCgkJZXhpdCgpCiMtLS0tLS0tLS0tLS0tLS0tLS1bIENSQUNLLUdSVVAgXS0tLS0tLS0tLS0tLS0tLS0tIwpiYWxtb25kID0gYisiWyIraCsi4pyTIitiKyJdIgoKZGVmIGxhaCgpOgoJcHJpbnQoIlxyIitiYWxtb25kK20rIiBceDFiWzE7OTVtVG90YWwgSUQgWWFuZyBUZXJrdW1wdWwgOlx4MWJbMTs5N20gIitzdHIobGVuKGlkKSkrIiAgICAgICAgICAgICAgICAgICAgICIpCglpbnB1dChiYWxtb25kK20gKyJceDFiWzE7OTdtIEtsaWsgW1x4MWJbMTs5Nm0gRW50ZXIgXVx4MWJbMTs5N20gSmlrYSBJbmdpbiBMYW5nc3VuZyBDcmFjayAhISIpCglwYXNzCglzZXR0aW5nKCkKZGVmIGdydXAoKToKCXByaW50KCcnKQoJaWQgPSBpbnB1dCgiIitiYWxtb25kK2grIiBceDFiWzE7OTRtPj4gRU5URVIgR1JVUCBMSU5LIDpceDFiWzE7OTRtICIpCgl1YSA9ICdNb3ppbGxhLzUuMCAoU3ltYmlhbk9TLzkuMzsgU2VyaWVzNjAvMy4yIE5va2lhRTUyLTEvMDUyLjAwMzsgUHJvZmlsZS9NSURQLTIuMSBDb25maWd1cmF0aW9uL0NMREMtMS4xICkgQXBwbGVXZWJLaXQvNTI1IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi8zLjAgQnJvd3Nlck5HLzcuMi42LjIgM2dwcC1nYmEnCgltaXNraW5sdSA9IHsidXNlci1hZ2VudCI6IHVhfQoJdXJsID0gImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9ncm91cHMvIitpZAoJc2VzID0gcmVxdWVzdHMuU2Vzc2lvbigpCgl0cnk6CgkJZ24gPSBwYXJzZXIoc2VzLmdldCh1cmwsIGhlYWRlcnM9bWlza2lubHUpLnRleHQsICdodG1sLnBhcnNlcicpCglleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CgkJcHJpbnQoYmFsbW9uZCttKyIgQ0hFSyBJTlRFUk5ULi4iKQoJCXRpbWUuc2xlZXAoMC41KQoJCWV4aXQoKQoJYmVyciA9IGduLmZpbmQoInRpdGxlIikKCWJlcnIyID0gYmVyci50ZXh0LnJlcGxhY2UoIiB8IEZhY2Vib29rIiwiIikucmVwbGFjZSgiIEdydXAgUHVibGlrIiwiIikKCWlmIGJlcnIyPT0nTWFzdWsgRmFjZWJvb2snOgoJCXByaW50KGJhbG1vbmQrbSsiIExpbWl0LCBTaWxhaGthbiBNb2RlIFBlc2F3YXQgRGFuIENvYmEgTGFnaS4uIikKCQl0aW1lLnNsZWVwKDAuNSkKCQljcmFja19ncnVwKCkKCWVsaWYgYmVycjI9PSdLZXNhbGFoYW4nOgoJCWphbGFuKGJhbG1vbmQrbSsiIEdydXAgVGlkYWsgRGl0ZW11a2FuLi4iKQoJCXRpbWUuc2xlZXAoMC41KQoJCWNyYWNrX2dydXAoKQoJZWxzZTpwYXNzCglwcmludCgiIitiYWxtb25kK3ArIiBceDFiWzE7OTRtPj4gTmFtYSBHcnVwIDpceDFiWzE7OTdtICIrYmVycjIpCglnZ3MgPSBnbi5maW5kX2FsbCgndGFibGUnKQoJYW5nID0gW10KCWZvciBmZiBpbiBnZ3M6CgkJYW5nZ28gPSBmZi50ZXh0CgkJYnJvID0gYW5nZ28ucmVwbGFjZSgnQW5nZ290YScsJycpCgkJdHJ5OgoJCQltZXggPSBpbnQoYnJvKQoJCQlqdW1sYWggPSBhbmcuYXBwZW5kKG1leCkKCQlleGNlcHQ6CgkJCXBhc3MKCWlmIGxlbihhbmcpPT0wOgoJCXByaW50KGJhbG1vbmQraCsiIEFuZ2dvdGEgOiAtIikKCWVsc2U6CgkJcHJpbnQoYmFsbW9uZCtoKyIgXHgxYlsxOzk0bT4+IEFuZ2dvdGEgOlx4MWJbMTs5N20gIitzdHIoYW5nWzBdKSkKCWdydXAxKHVybCkKZGVmIGdydXAxKHVybHMpOgoJdXNlID0gW10KCXNlcyA9IHJlcXVlc3RzLlNlc3Npb24oKQoJcHJpbnQoIiIrYmFsbW9uZCttKyIgXHgxYlsxOzk0bUppa2EgQmVyaGVudGksIE1vZGUgUGVzYXdhdCA1IERldGlrIikKCXByaW50KGJhbG1vbmQrbSsiIFx4MWJbMTs5NG1TZWRhbmcgTWVuZ3VtcHVsa2FuIElEIikKCXByaW50KGJhbG1vbmQrbSsiIFx4MWJbMTs5NG1UZWthbiBDVFJMICsgQyBVbnR1ayBTdG9wIikKCXdoaWxlIFRydWU6CgkJdHJ5OgoJCQl1YSA9ICdNb3ppbGxhLzUuMCAoU3ltYmlhbk9TLzkuMzsgU2VyaWVzNjAvMy4yIE5va2lhRTUyLTEvMDUyLjAwMzsgUHJvZmlsZS9NSURQLTIuMSBDb25maWd1cmF0aW9uL0NMREMtMS4xICkgQXBwbGVXZWJLaXQvNTI1IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi8zLjAgQnJvd3Nlck5HLzcuMi42LjIgM2dwcC1nYmEnCgkJCW1pc2tpbmx1ID0geyJ1c2VyLWFnZW50IjogdWF9CgkJCXRyeToKCQkJCXVybCA9IHVzZVswXQoJCQlleGNlcHQ6CgkJCQl1cmwgPSB1cmxzCgkJCXNldCA9IHBhcnNlcihzZXMuZ2V0KHVybCwgaGVhZGVycz1taXNraW5sdSkudGV4dCwgImh0bWwucGFyc2VyIikKCQkJYmYyID0gc2V0LmZpbmRfYWxsKCdhJykKCQkJZm9yIGcgaW4gYmYyOgoJCQkJY3NzID0gc3RyKGcpLnNwbGl0KCc+JykKCQkJCWlmICdMaWhhdCBQb3N0aW5nYW4gTGFpbm55YTwvc3BhbicgaW4gY3NzOgoJCQkJCWJjaiA9IHN0cihnKS5yZXBsYWNlKCc8YSBocmVmPSInLCcnKS5yZXBsYWNlKCdhbXA7JywnJykKCQkJCQliY2oyID0gYmNqLnNwbGl0KCcgJylbMF0ucmVwbGFjZSgnIj48aW1nJywnJykKCQkJdGVzID0gc2V0LmZpbmRfYWxsKCd0YWJsZScpCgkJCWZvciBjYXJpIGluIHRlczoKCQkJCWxpYXRuaWggPSBjYXJpLnRleHQKCQkJCXNwbCA9IGxpYXRuaWguc3BsaXQoJyAnKQoJCQkJaWYgJ21lbmdhanVrYW4nIGluIHNwbDoKCQkJCQlpZHNpYXBhID0gcmUuZmluZGFsbCgnY29udGVudF9vd25lcl9pZF9uZXcuXHcrJyxzdHIoY2FyaSkpCgkJCQkJaWR5b3UgPQlpZHNpYXBhWzBdLnJlcGxhY2UoJ2NvbnRlbnRfb3duZXJfaWRfbmV3LicsJycpCgkJCQkJbmFtYXlvdSA9IGxpYXRuaWgucmVwbGFjZSgnIG1lbmdhanVrYW4gcGVydGFueWFhbiAuJywnJykKCQkJCQlpZGt1ID0gaWR5b3UrJ3wnK25hbWF5b3UKCQkJCQlpZiBpZGt1IGluIGlkOgoJCQkJCQljb250aW51ZQoJCQkJCWVsc2U6CgkJCQkJCWlkLmFwcGVuZChpZGt1KQoJCQkJCQlwcmludCgoIlxyIitiYWxtb25kK2grIiB7ICIraysiUHJvc2VzIE1lbmdhbWJpbCBJRCAiK3N0cihsZW4oaWQpKStoKyIgfSIpLCBlbmQ9IiIpO3N5cy5zdGRvdXQuZmx1c2goKQoJCQkJZWxpZiAnPicgaW4gc3BsOgoJCQkJCWlkc2lhcGEgPSByZS5maW5kYWxsKCdjb250ZW50X293bmVyX2lkX25ldy5cdysnLHN0cihjYXJpKSkKCQkJCQlpZHlvdSA9CWlkc2lhcGFbMF0ucmVwbGFjZSgnY29udGVudF9vd25lcl9pZF9uZXcuJywnJykKCQkJCQluYW1heW91ID0gbGlhdG5paC5zcGxpdCgnID4gJylbMF0KCQkJCQlpZGt1ID0gaWR5b3UrJ3wnK25hbWF5b3UKCQkJCQlpZiBpZGt1IGluIGlkOgoJCQkJCQljb250aW51ZQoJCQkJCWVsc2U6CgkJCQkJCWlkLmFwcGVuZChpZGt1KQoJCQkJCQlwcmludCgoIlxyIitiYWxtb25kK2grIiB7ICIrTysiTWVuZ3VtcHVsa2FuIElEICIrc3RyKGxlbihpZCkpK2grIiB9IiksIGVuZD0iIik7c3lzLnN0ZG91dC5mbHVzaCgpCgkJCQllbHNlOgoJCQkJCWNvbnRpbnVlCgkJCXRyeToKCQkJCWxpbmtfID0gYmNqMgoJCQkJdXNlLmluc2VydCgwLCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20nK2xpbmtfKQoJCQlleGNlcHQ6CgkJCQlnaXJhbmcgPSBzZXQuZmluZCgndGl0bGUnKQoJCQkJZ2lyYW5nMiA9IGdpcmFuZy50ZXh0LnJlcGxhY2UoIiB8IEZhY2Vib29rIiwiIikucmVwbGFjZSgiIEdydXAgUHVibGlrIiwiIikKCQkJCWlmIGdpcmFuZzI9PSdNYXN1ayBGYWNlYm9vayc6CgkJCQkJcGFzcwoJCQkJZWxzZToKCQkJCQlsYWgoKQoJCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQkJdHJ5OgoJCQkJdGltZS5zbGVlcCgzMSkKCQkJZXhjZXB0IEtleWJvYXJkSW50ZXJydXB0OgoJCQkJbGFoKCkKCQlleGNlcHQgS2V5Ym9hcmRJbnRlcnJ1cHQ6CgkJCWxhaCgpCiMtLS0tLS0tLS0tLS0tWyBDUkFDSy1GUk9NLUZJTEUgXS0tLS0tLS0tLS0tLS0tLS0tLSMKZGVmIGNyYWNrX2ZpbGUoKToKCXRyeTp2aW4gPSBvcy5saXN0ZGlyKCdEVU1QJykKCWV4Y2VwdCBGaWxlTm90Rm91bmRFcnJvcjoKCQlwcmludCgnPT5GaWxlIFRpZGFrIERpdGVtdWthbiAnKQoJCXRpbWUuc2xlZXAoMikKCQliYWNrKCkKCWlmIGxlbih2aW4pPT0wOgoJCXByaW50KCc9PkthbXUgVGlkYWsgTWVtaWxpa2kgRmlsZSBEdW1wICcpCgkJdGltZS5zbGVlcCgyKQoJCWJhY2soKQoJZWxzZToKCQljaWggPSAwCgkJbG9sID0ge30KCQlmb3IgaXNpIGluIHZpbjoKCQkJdHJ5OmhlbSA9IG9wZW4oJ0RVTVAvJytpc2ksJ3InKS5yZWFkbGluZXMoKQoJCQlleGNlcHQ6Y29udGludWUKCQkJY2loKz0xCgkJCWlmIGNpaDwxMDA6CgkJCQlub20gPSAnJytzdHIoY2loKQoJCQkJbG9sLnVwZGF0ZSh7c3RyKGNpaCk6c3RyKGlzaSl9KQoJCQkJbG9sLnVwZGF0ZSh7bm9tOnN0cihpc2kpfSkKCQkJCXByaW50KGYnPT4lcy4gJXMgKHtofSAlc3t1fSBpZHogKSclKG5vbSxpc2ksbGVuKGhlbSkpKQoJCQllbHNlOgoJCQkJbG9sLnVwZGF0ZSh7c3RyKGNpaCk6c3RyKGlzaSl9KQoJCQkJcHJpbnQoJ1snK3N0cihjaWgpKyddICcraXNpKycgWyAnK3N0cihsZW4oaGVtKSkrJyBBY2NvdW50IF0nK3UpCgkJCQlwcmludCgnPT4lcy4gJXMgKHtofSAlcyB7dX1pZHopICclKGNpaCxpc2ksbGVuKGhlbSkpKQoJCWdlZWggPSBpbnB1dCgnXG49PlBpbGloIDogJykKCQl0cnk6Z2VoID0gbG9sW2dlZWhdCgkJZXhjZXB0IEtleUVycm9yOgoJCQlwcmludChmJ3trfT0+UGlsaWggWWFuZyBCZW5lciBLb250b2wge3V9JykKCQkJdGltZS5zbGVlcCgzKQoJCQliYWNrKCkKCQl0cnk6bGluID0gb3BlbignRFVNUC8nK2dlaCwncicpLnJlYWQoKS5zcGxpdGxpbmVzKCkKCQlleGNlcHQ6CgkJCXByaW50KCc9PkZpbGUgVGlkYWsgRGl0ZW11a2FuLCBDb2JhIExhZ2kgTmFudGkgJykKCQkJdGltZS5zbGVlcCgyKQoJCQliYWNrKCkKCQlmb3IgeGlkIGluIGxpbjoKCQkJaWQuYXBwZW5kKHhpZCkKCQlzZXR0aW5nKCkKIy0tLS0tLS0tLS0tLS1bIElkIC1DcmFja2lpbmddLS0tLS0tLS0tLS0tLS0tIwpkZWYgc2V0dGluZygpOgoJY2V0YWsobmVsKCdcdFtib2xkIGN5YW5dICAgICAgICAgQ0xPTklORyBNRU5VIOKAoiBbL2JvbGQgY3lhbl0nKSkKCXByaW50KCcnKSAKCWNldGFrKG5lbCgnW2JvbGQgeWVsbG93XeKdpO+4j+KeozEuIENMT05FIEpVU1QgT0xEIElEWiBcbuKdpO+4j+KeozIuIENMT05FIEpVU1QgTkVXIElEWihSRUNPTUVORClcbuKdpO+4j+KeozMuIENMT05FIE1JWCBJRFogKE5FVy9PTEQpPT5SRUNPTUVORCBbYm9sZCB5ZWxsb3ddJykpCglwcmludCgnJykKCWh1ID0gaW5wdXQoJz0+Q0hPT1NFIDogJykKCWlmIGh1IGluIFsnMScsJzAxJ106CgkJZm9yIHR1YSBpbiBzb3J0ZWQoaWQpOgoJCQlpZDIuYXBwZW5kKHR1YSkKCgllbGlmIGh1IGluIFsnMicsJzAyJ106CgkJbXVkYT1bXQoJCWZvciBiYWNvdCBpbiBzb3J0ZWQoaWQpOgoJCQltdWRhLmFwcGVuZChiYWNvdCkKCQliY209bGVuKG11ZGEpCgkJYmNtaT0oYmNtLTEpCgkJZm9yIHhtdWQgaW4gcmFuZ2UoYmNtKToKCQkJaWQyLmFwcGVuZChtdWRhW2JjbWldKQoJCQliY21pIC09MQoJZWxpZiBodSBpbiBbJzMnLCcwMyddOgoJCWZvciBiYWNvdCBpbiBpZDoKCQkJeHggPSByYW5kb20ucmFuZGludCgwLGxlbihpZDIpKQoJCQlpZDIuaW5zZXJ0KHh4LGJhY290KQoJZWxzZToKCQlwcmludCgnPT5UUlkgQUdBSU4nKQoJCWV4aXQoKQoJY2V0YWsobmVsKCdcdFtib2xkIGN5YW5dICAgICAgICAgICAgIOKAoiBNRVRIT0RFIExPR0lOIOKAoiBbL2JvbGQgY3lhbl0nKSkKCXByaW50KCcnKSAKCWNldGFrKG5lbCgnW2JvbGQgcHVycGxlXeKdpO+4j+KeozEuIE1PQklMRVxu4p2k77iP4p6jMi4gTUJBU0lDXG7inaTvuI/inqMzLiBUT1VDSFxu4p2k77iP4p6jNC4gTVRPVUNIIFtib2xkIHB1cnBsZV0nKSkgCglwcmludCgnJykKCWhjID0gaW5wdXQoJz4+IENIT09TRSA6ICcpCglpZiBoYyBpbiBbJzEnLCcwMSddOgoJCW1ldGhvZC5hcHBlbmQoJ21vYmlsZScpCgllbGlmIGhjIGluIFsnMicsJzAyJ106CgkJbWV0aG9kLmFwcGVuZCgnbW9iaWxlJykKCWVsaWYgaGMgaW4gWyczJywnMDMnXToKCQltZXRob2QuYXBwZW5kKCdtb2JpbGUnKQoJZWxpZiBoYyBpbiBbJzQnLCcwNCddOgoJCW1ldGhvZC5hcHBlbmQoJ21iYXNpYycpCgllbHNlOgoJCW1ldGhvZC5hcHBlbmQoJ21vYmlsZScpCglwcmludChmJ3ttfU5PVEUgOlxu8J+ZhHtrfVVTRSBERUZVTFQgUEFTUyBNRU5VICcpIAoJcHJpbnQoJycpCglfamVtYm90XyA9IGlucHV0KCc9PlNIT1cgQVBLUyAoIFkvdCApICcpCiMJaWYgX2plbWJvdF8gaW4gWycnXToKIwkJcHJpbnQoJz0+UGlsaWggWWFuZyBCZW5lciBLb250b2wgJykKIwkJYmFjaygpCiMgICBlbGlmIF9qZW1ib3RfIGluIFsneScsJ1knXToKCQkjdGFwbGlrYXNpLmFwcGVuZCgneWEnKQoJI2Vsc2U6CgkJI3RhcGxpa2FzaS5hcHBlbmQoJ25vJykKCXB3cGx1cz1pbnB1dCgnPT5QQVNXT1JEIE1FTlUgTUVOVUFMKENIT0lTRSkvREVGVUxUKEFVVE8pKCBtL2QgKSAnKQoJaWYgcHdwbHVzIGluIFsneScsJ1knXToKCQlwd3BsdXNzLmFwcGVuZCgneWEnKQoJCWNldGFrKG5lbCgnW1twdXJwbGVd4oCiW3llbGxvd11dIEFERCBQQVNXT1JEIE1YTSA2IFdPUkRTXG5bW3B1cnBsZV3igKJbeWVsbG93XV0gRVhJTVBMRSA6W2dyZWVuXSA1NTY2NzcsNzg2Nzg2LDEyMzQ1NltwdXJwbGVdICcpKQoJCXB3a3U9aW5wdXQoJyM9PkFkZCBQQVNTV09SRFMgOiAnKQoJCXB3a3VoPXB3a3Uuc3BsaXQoJywnKQoJCWZvciB4cHcgaW4gcHdrdWg6CgkJCXB3bnlhLmFwcGVuZCh4cHcpCgllbHNlOgoJCXB3cGx1c3MuYXBwZW5kKCdubycpCglwYXNzd3JkKCkKCWV4aXQoKSAKIy0tLS0tLS0tLS0tLS0tLS0tLS1bIEJBR0lBTi1XT1JETElTVCBdLS0tLS0tLS0tLS0tIwpkZWYgcGFzc3dyZCgpOgoJY2V0YWsobmVsKCdbYm9sZCBjeWFuXSAgICAgICAgICAgICAgIFdBSVQgRk9SIEEgV0hJTEUg8J+Ygltib2xkIGN5YW5dJykpIAoJcHJpbnQoZicgICAgICAgICAgICAgICAgICAgIHttfUgge2t9QSB7aH1SIHt1fUEge2J9UCB7dX0gIOKYhSAge2J9UyB7dX1BIHtofSBCe2t9IEF7bX0gUntifScpCglwcmludCgnJykKCXByaW50KGYnPT5SRVNVTFRTIHtofU9Le3V9IENIRUsgOiB7aH1PSy8lcyB7Yn0nJShva2MpKQoJcHJpbnQoZic9PlJFU1VMVFMge2t9Q1B7aH0gQ0hFSyA6IHtrfUNQLyVzIHtifSclKGNwYykpCglwcmludChmJz0+VFVSTiBBSVJQTEFORSBNT0RFIEFGVEVSIENMT05FIElEWiBBQk9WRSB7aH0xS3t1fSBJZHpcbicpCgl3aXRoIHRyZWQobWF4X3dvcmtlcnM9MzApIGFzIHBvb2w6CgkJZm9yIHl1em9uZyBpbiBpZDI6CgkJCWlkZixubWYgPSB5dXpvbmcuc3BsaXQoJ3wnKVswXSx5dXpvbmcuc3BsaXQoJ3wnKVsxXS5sb3dlcigpCgkJCWZycyA9IG5tZi5zcGxpdCgnICcpWzBdCgkJCXB3diA9IFtdCgkJCWlmIGxlbihubWYpPDY6CgkJCQlpZiBsZW4oZnJzKTwzOgoJCQkJCXBhc3MKCQkJCWVsc2U6CgkJCQkJcHd2LmFwcGVuZChmcnMrJzEyMycpCgkJCQkJcHd2LmFwcGVuZChmcnMrJzEyMzQnKQoJCQkJCXB3di5hcHBlbmQoZnJzKycxMjM0NScpCgkJCQkJcHd2LmFwcGVuZChmcnMrJzEyMzQ1NicpCgkJCQkJcHd2LmFwcGVuZChmcnMrJzIwMjAnKQoJCQkJCXB3di5hcHBlbmQoZnJzKycyMDIxJykKCQkJCQlwd3YuYXBwZW5kKGZycysnMjAyMicpCgkJCWVsc2U6CgkJCQlpZiBsZW4oZnJzKTwzOgoJCQkJCXB3di5hcHBlbmQobm1mKQoJCQkJZWxzZToKCQkJCQlwd3YuYXBwZW5kKG5tZikKCQkJCQlwd3YuYXBwZW5kKGZycysnMTIzJykKCQkJCQlwd3YuYXBwZW5kKGZycysnMTIzNCcpCgkJCQkJcHd2LmFwcGVuZChmcnMrJzEyMzQ1JykKCQkJCQlwd3YuYXBwZW5kKGZycysnMTIzNDU2JykKCQkJCQlwd3YuYXBwZW5kKGZycysnMjAyMCcpCgkJCQkJcHd2LmFwcGVuZChmcnMrJzIwMjEnKQoJCQkJCXB3di5hcHBlbmQoZnJzKycyMDIyJykKCQkJaWYgJ3lhJyBpbiBwd3BsdXNzOgoJCQkJZm9yIHhwd2QgaW4gcHdueWE6CgkJCQkJcHd2LmFwcGVuZCh4cHdkKQoJCQllbHNlOnBhc3MKCQkJaWYgJ21vYmlsZScgaW4gbWV0aG9kOgoJCQkJcG9vbC5zdWJtaXQoY3JhY2ssaWRmLHB3dikKCQkJZWxpZiAnZnJlZScgaW4gbWV0aG9kOgoJCQkJcG9vbC5zdWJtaXQoY3JhY2ssaWRmLHB3dikKCQkJZWxpZiAndG91Y2gnIGluIG1ldGhvZDoKCQkJCXBvb2wuc3VibWl0KGNyYWNrLGlkZixwd3YpCgkJCWVsaWYgJ21iYXNpYycgaW4gbWV0aG9kOgoJCQkJcG9vbC5zdWJtaXQoY3JhY2ssaWRmLHB3dikKCQkJZWxzZToKCQkJCXBvb2wuc3VibWl0KGNyYWNrLGlkZixwd3YpCglwcmludCgnJykKCWNldGFrKG5lbCgnXHRbcHVycGxlXT0+W2dyZWVuXSBDcmFjayBTZWxlc2FpIE5nYWIsIEphbmdhbiBMdXBhIEJlcnN5dWt1cltwdXJwbGVdIDw8W3llbGxvd10gJykpCglwcmludChmJ1t7aH3igKJ7dX1de2h9IE9LIDoge2h9JXMgJyUob2spKQoJcHJpbnQoZid7a31be2t94oCie2h9XXtrfSBDUCA6IHtrfSVze3V9ICclKGNwKSkKCXByaW50KCcnKQoJcHJpbnQoJ3trfT0+TGFuanV0IENyYWNrIEtlbWJhbGkgKCBZL3QgKSA/ICcpCgl3b2kgPSBpbnB1dCgnPT5QaWxpaCA6ICcpCglpZiB3b2kgaW4gWyd5JywnWSddOgoJCWJhY2soKQoJZWxzZToKCQlwcmludChmJ1x0e3h9PT57a30gR29vZCBCeWUgRGFkYWFoaHt1fSAnKQoJCXRpbWUuc2xlZXAoMikKCQlleGl0KCkKIy0tLS0tLS0tLS0tLS0tLS0tLS0tWyBNRVRPREUtQi1BUEkgXS0tLS0tLS0tLS0tLS0tLS0tIwpkZWYgY3JhY2soaWRmLHB3dik6CglnbG9iYWwgbG9vcCxvayxjcAoJYm8gPSByYW5kb20uY2hvaWNlKFttLGssaCxiLHUseF0pCglzeXMuc3Rkb3V0LndyaXRlKGYiXHJ7Yn1BSE1BRCBBTEktLT57UH1be2t9e2xvb3B9e1B9L3tofXtsZW4oaWQpfXtQfV3igJR7UH1be0h9e29rfXtQfV3igJR7UH1be2t9e2NwfXt4fV3igJRbe2JvfXsnezouMCV9Jy5mb3JtYXQobG9vcC9mbG9hdChsZW4oaWQpKSl9e1B9XSAgIiksCglzeXMuc3Rkb3V0LmZsdXNoKCkKCXVhID0gcmFuZG9tLmNob2ljZSh1Z2VuKQoJdWEyID0gcmFuZG9tLmNob2ljZSh1Z2VuMikKCXNlcyA9IHJlcXVlc3RzLlNlc3Npb24oKQoJZm9yIHB3IGluIHB3djoKCQl0cnk6CgkJCW5pcD1yYW5kb20uY2hvaWNlKHByb3gpCgkJCXByb3hzPSB7J2h0dHAnOiAnc29ja3M0Oi8vJytuaXB9CgkJCXNlcy5oZWFkZXJzLnVwZGF0ZSh7Ikhvc3QiOidtLmZhY2Vib29rLmNvbScsInVwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMiOiIxIiwidXNlci1hZ2VudCI6dWEyLCJhY2NlcHQiOiJ0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IGNsb3Nlcl0vW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IHN0YXJ0XSo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjkiLCJkbnQiOiIxIiwieC1yZXF1ZXN0ZWQtd2l0aCI6Im1hcmsudmlhLmdwIiwic2VjLWZldGNoLXNpdGUiOiJzYW1lLW9yaWdpbiIsInNlYy1mZXRjaC1tb2RlIjoiY29ycyIsInNlYy1mZXRjaC11c2VyIjoiZW1wdHkiLCJzZWMtZmV0Y2gtZGVzdCI6ImRvY3VtZW50IiwicmVmZXJlciI6Imh0dHBzOi8vbS5mYWNlYm9vay5jb20vIiwiYWNjZXB0LWVuY29kaW5nIjoiZ3ppcCwgZGVmbGF0ZSBiciIsImFjY2VwdC1sYW5ndWFnZSI6ImVuLUdCLGVuLVVTO3E9MC45LGVuO3E9MC44In0pCgkJCXAgPSBzZXMuZ2V0KCdodHRwczovL3AuZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC9wYXNzd29yZC8/dWlkPScraWRmKycmZmxvdz1sb2dpbl9ub19waW4mcmVmc3JjPWRlcHJlY2F0ZWQmX3JkcicpCgkJCWRhdGFhID17ImxzZCI6cmUuc2VhcmNoKCduYW1lPSJsc2QiIHZhbHVlPSIoLio/KSInLCBzdHIocC50ZXh0KSkuZ3JvdXAoMSksImphem9lc3QiOnJlLnNlYXJjaCgnbmFtZT0iamF6b2VzdCIgdmFsdWU9IiguKj8pIicsIHN0cihwLnRleHQpKS5ncm91cCgxKSwidWlkIjppZGYsIm5leHQiOiJodHRwczovL3AuZmFjZWJvb2suY29tL2xvZ2luL3NhdmUtZGV2aWNlLyIsImZsb3ciOiJsb2dpbl9ub19waW4iLCJwYXNzIjpwdyx9CgkJCWtva2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBwLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpIF0pCgkJCWtva2krPScgbV9waXhlbF9yYXRpbz0yLjYyNTsgd2Q9NDEyeDc1NicKCQkJaGVhZGU9eyJIb3N0IjonbS5mYWNlYm9vay5jb20nLCJjYWNoZS1jb250cm9sIjoibWF4LWFnZT0wIiwidXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyI6IjEiLCJvcmlnaW4iOiJodHRwczovL20uZmFjZWJvb2suY29tIiwiY29udGVudC10eXBlIjoiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiwidXNlci1hZ2VudCI6dWEsImFjY2VwdCI6InRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL2F2aWYsaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCpbaW5zZXJ0ZWQgYnkgY3l0aG9uIHRvIGF2b2lkIGNvbW1lbnQgY2xvc2VyXS9baW5zZXJ0ZWQgYnkgY3l0aG9uIHRvIGF2b2lkIGNvbW1lbnQgc3RhcnRdKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuOSIsIngtcmVxdWVzdGVkLXdpdGgiOiJtYXJrLnZpYS5ncCIsInNlYy1mZXRjaC1zaXRlIjoic2FtZS1vcmlnaW4iLCJzZWMtZmV0Y2gtbW9kZSI6ImNvcnMiLCJzZWMtZmV0Y2gtdXNlciI6ImVtcHR5Iiwic2VjLWZldGNoLWRlc3QiOiJkb2N1bWVudCIsInJlZmVyZXIiOiJodHRwczovL20uZmFjZWJvb2suY29tL2luZGV4LnBocD9uZXh0PWh0dHBzJTNBJTJGJTJGZGV2ZWxvcGVycy5mYWNlYm9vay5jb20lMkZ0b29scyUyRmRlYnVnJTJGYWNjZXNzdG9rZW4lMkYiLCJhY2NlcHQtZW5jb2RpbmciOiJnemlwLCBkZWZsYXRlIGJyIiwiYWNjZXB0LWxhbmd1YWdlIjoiZW4tR0IsZW4tVVM7cT0wLjksZW47cT0wLjgifQoJCQlwbyA9IHNlcy5wb3N0KCdodHRwczovL3AuZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC92YWxpZGF0ZS1wYXNzd29yZC8/c2hibD0wJyxkYXRhPWRhdGFhLGNvb2tpZXM9eydjb29raWUnOiBrb2tpfSxoZWFkZXJzPWhlYWRlLGFsbG93X3JlZGlyZWN0cz1GYWxzZSxwcm94aWVzPXByb3hzKQoJCQlpZiAiY2hlY2twb2ludCIgaW4gcG8uY29va2llcy5nZXRfZGljdCgpLmtleXMoKToKCQkJCWNldGFrKG5lbCgnICBbcmVkXSAgICAg4pyoIEFITUFEIEFMSSA9IENIRUNLUE9JTlQg4pyoIFtyZWRdJykpCgkJCQlwcmludChmJ1xye0t9Pj4ge2lkZn18e3B3fXtOfScpICAgICAKCQkJCW9wZW4oJ0NQLycrY3BjLCdhJykud3JpdGUoaWRmKyd8JytwdysnXG4nKQoJCQkJYWt1bi5hcHBlbmQoaWRmKyd8JytwdykKCQkJCWNwKz0xIAoJCQkJYnJlYWsKCQkJZWxpZiAiY191c2VyIiBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToKCQkJCW9rKz0xCgkJCQljb2tpPXBvLmNvb2tpZXMuZ2V0X2RpY3QoKQoJCQkJa3VraSA9ICgiOyIpLmpvaW4oWyAiJXM9JXMiICUgKGtleSwgdmFsdWUpIGZvciBrZXksIHZhbHVlIGluIHNlcy5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKSBdKQoJCQkJY2V0YWsobmVsKCdbZ3JlZW5dICAgICAg4p2k77iP4pyoIEFITUFEIEFMSSA9IE9LIOKdpO+4j+KcqFtncmVlbl0nKSkgCgkJCQlwcmludChmJ1xye0h9Pj4ge2lkZn18e3B3fXx7a3VraX1cbnt1YX17Tn0nKQoJCQkJb3BlbignT0svJytva2MsJ2EnKS53cml0ZShpZGYrJ3wnK3B3Kyd8Jyt1YSsnXG4nKQoJCQkJY2VrX2FwayhzZXNzaW9uLGNva2kpCgkJCQlicmVhawoJCQkJCgkJCWVsc2U6CgkJCQljb250aW51ZQoJCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQkJdGltZS5zbGVlcCgzMSkKCWxvb3ArPTEKIy0tLS0tLS0tLS0tLS0tLS0tLVsgTUVUSE9ERS1NQkFTSUMtMiBdLS0tLS0tLS0tLS0tLS0tLS0tLSMKZGVmIGNyYWNrZnJlZShpZGYscHd2KToKCWdsb2JhbCBsb29wLG9rLGNwCglzeXMuc3Rkb3V0LndyaXRlKGYiXHLinaTvuI8ge1B9W3thc3V9TWJhc2lje1B9XXtQfVt7Yn17bG9vcH17UH0ve3B9e2xlbihpZCl9e1B9XeKAlHtQfVt7SH17b2t9e1B9XeKAlHtQfVt7a317Y3B9e3h9XeKAlFt7bX17J3s6LjAlfScuZm9ybWF0KGxvb3AvZmxvYXQobGVuKGlkKSkpfXtQfV0gICIpLAoJc3lzLnN0ZG91dC5mbHVzaCgpCgl1YSA9IHJhbmRvbS5jaG9pY2UodWdlbikKCXVhMiA9IHJhbmRvbS5jaG9pY2UodWdlbjIpCglzZXMgPSByZXF1ZXN0cy5TZXNzaW9uKCkKCWZvciBwdyBpbiBwd3Y6CgkJdHJ5OgoJCQlzZXMuaGVhZGVycy51cGRhdGUoeyJIb3N0IjoicC5mYWNlYm9vay5jb20iLCdjYWNoZS1jb250cm9sJzogJ21heC1hZ2U9MCcsJ3NlYy1jaC11YS1tb2JpbGUnOiAnPzEnLCJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIjoiMSIsInVzZXItYWdlbnQiOnVhLCJhY2NlcHQiOiJ0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IGNsb3Nlcl0vW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IHN0YXJ0XSo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjkiLCJkbnQiOiIxIiwieC1yZXF1ZXN0ZWQtd2l0aCI6Im1hcmsudmlhLmdwIiwic2VjLWZldGNoLXNpdGUiOiJzYW1lLW9yaWdpbiIsInNlYy1mZXRjaC1tb2RlIjoiY29ycyIsInNlYy1mZXRjaC1kZXN0IjoiZW1wdHkiLCJzZWMtZmV0Y2gtZGVzdCI6ImRvY3VtZW50IiwicmVmZXJlciI6Imh0dHBzOi8vcC5mYWNlYm9vay5jb20vIiwiYWNjZXB0LWVuY29kaW5nIjoiZ3ppcCwgZGVmbGF0ZSBiciIsImFjY2VwdC1sYW5ndWFnZSI6ImlkLUlELGlkO3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43In0pCgkJCXAgPSBzZXMuZ2V0KCdodHRwczovL3AuZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC92YWxpZGF0ZS1wYXNzd29yZC8/c2hibD0wJyxkYXRhPWRhdGFhLGNvb2tpZXM9eydjb29raWUnOiBrb2tpfSxoZWFkZXJzPWhlYWRlLGFsbG93X3JlZGlyZWN0cz1GYWxzZSxwcm94aWVzPXByb3hzKQoJCQlkYXRhYSA9eyJsc2QiOnJlLnNlYXJjaCgnbmFtZT0ibHNkIiB2YWx1ZT0iKC4qPykiJywgc3RyKHAudGV4dCkpLmdyb3VwKDEpLCJqYXpvZXN0IjpyZS5zZWFyY2goJ25hbWU9Imphem9lc3QiIHZhbHVlPSIoLio/KSInLCBzdHIocC50ZXh0KSkuZ3JvdXAoMSksInVpZCI6aWRmLCJuZXh0IjoiaHR0cHM6Ly9wLmZhY2Vib29rLmNvbS9sb2dpbi9zYXZlLWRldmljZS8iLCJmbG93IjoibG9naW5fbm9fcGluIiwicGFzcyI6cHcsfQoJCQlrb2tpID0gKCI7Iikuam9pbihbICIlcz0lcyIgJSAoa2V5LCB2YWx1ZSkgZm9yIGtleSwgdmFsdWUgaW4gcC5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKSBdKQoJCQlrb2tpKz0nIG1fcGl4ZWxfcmF0aW89Mi42MjU7IHdkPTQxMng3NTYnCgkJCWhlYWRlPXsiSG9zdCI6InAuZmFjZWJvb2suY29tIiwiY2FjaGUtY29udHJvbCI6Im1heC1hZ2U9MCIsInVwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMiOiIxIiwib3JpZ2luIjoiaHR0cHM6Ly9wLmZhY2Vib29rLmNvbSIsImNvbnRlbnQtdHlwZSI6ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIsInVzZXItYWdlbnQiOiJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTI7IFNBTVNVTkcgU00tRzc4MEcpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFNhbXN1bmdCcm93c2VyLzE2LjAgQ2hyb21lLzkyLjAuNDUxNS4xNjYgTW9iaWxlIFNhZmFyaS81MzcuMzYiLCJhY2NlcHQiOiJ0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IGNsb3Nlcl0vW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IHN0YXJ0XSo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjkiLCJ4LXJlcXVlc3RlZC13aXRoIjoibWFyay52aWEuZ3AiLCJzZWMtZmV0Y2gtc2l0ZSI6InNhbWUtb3JpZ2luIiwic2VjLWZldGNoLW1vZGUiOiJjb3JzIiwic2VjLWZldGNoLXVzZXIiOiJlbXB0eSIsInNlYy1mZXRjaC1kZXN0IjoiZG9jdW1lbnQiLCJyZWZlcmVyIjoiaHR0cHM6Ly9wLmZhY2Vib29rLmNvbS9pbmRleC5waHA/bmV4dD1odHRwcyUzQSUyRiUyRmRldmVsb3BlcnMuZmFjZWJvb2suY29tJTJGdG9vbHMlMkZkZWJ1ZyUyRmFjY2Vzc3Rva2VuJTJGIiwiYWNjZXB0LWVuY29kaW5nIjoiZ3ppcCwgZGVmbGF0ZSBiciIsImFjY2VwdC1sYW5ndWFnZSI6ImlkLUlELGlkO3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43In0KCQkJcG8gPSBzZXMucG9zdCgnaHR0cHM6Ly9wLmZhY2Vib29rLmNvbS9sb2dpbi9kZXZpY2UtYmFzZWQvdmFsaWRhdGUtcGFzc3dvcmQvP3NoYmw9MCcsZGF0YT1kYXRhYSxjb29raWVzPXsnY29va2llJzoga29raX0saGVhZGVycz1oZWFkZSxhbGxvd19yZWRpcmVjdHM9RmFsc2UscHJveGllcz1wcm94cykKCQkJaWYgImNoZWNrcG9pbnQiIGluIHBvLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6CgkJCQljZXRhayhuZWwoJyAgW3JlZF0gICAgIPCfmK0gTU9IT04gTUFBRiBBTkRBIEJFTFVNIEJFUlVOVFVORyBNT0hPTiBCRVJTQUJBUiDwn5itW3JlZF0nKSkKCQkJCXByaW50KGYnXHJ7S30+PiB7aWRmfXx7cHd9e059JykgICAgIAoJCQkJb3BlbignQ1AvJytjcGMsJ2EnKS53cml0ZShpZGYrJ3wnK3B3KydcbicpCgkJCQlha3VuLmFwcGVuZChpZGYrJ3wnK3B3KQoJCQkJY3ArPTEKCQkJCWJyZWFrCgkJCWVsaWYgImNfdXNlciIgaW4gc2VzLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6CgkJCQlvays9MQoJCQkJY29raT1wby5jb29raWVzLmdldF9kaWN0KCkKCQkJCWt1a2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkKCQkJCWNldGFrKG5lbCgnW3B1cnBsZV0gICAgICDwn5itSEVMTE8gVEhJUyBNVVNMSU0tWEQg8J+ko1twdXJwbGVdJykpIAoJCQkJcHJpbnQoZidccntIfT4+IHtpZGZ9fHtwd318e2t1a2l9e059JykKCQkJCW9wZW4oJ09LLycrb2tjLCdhJykud3JpdGUoaWRmKyd8JytwdysnXG4nKQoJCQkJY2VrX2FwayhzZXNzaW9uLGNva2kpCgkJCQlicmVhawoJCQkJCgkJCWVsc2U6CgkJCQljb250aW51ZQoJCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQkJdGltZS5zbGVlcCgzMSkKCWxvb3ArPTEKCiMtLS0tLS0tLS0tLS0tLS0tLS0tLS1bIE1FVEhPREUtVE9VQ0gtMyBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tIwpkZWYgY3JhY2t0b3VjaChpZGYscHd2KToKCWdsb2JhbCBsb29wLG9rLGNwCgliaSA9IHJhbmRvbS5jaG9pY2UoW3UsayxrayxiLGgsaGhdKQoJcGVycyA9IGxvb3AqMTAwL2xlbihpZDIpCglmZmYgPSAnJScKCW5pcD1yYW5kb20uY2hvaWNlKHByb3gpCglwcm94cz0geydodHRwJzogJ3NvY2tzNTovLycrbmlwfQoJdWEgPSByYW5kb20uY2hvaWNlKHVnZW4pCgl1YTIgPSByYW5kb20uY2hvaWNlKHVnZW4yKQoJc2VzID0gcmVxdWVzdHMuU2Vzc2lvbigpCglzeXMuc3Rkb3V0LndyaXRlKCdcciVzIOKYrCAlcy8lcyDimKwgT0s6JXMg4pisIENQOiVzIOKYrCAlcyVzJXMg4pisJyUoYmksbG9vcCxsZW4oaWQyKSxvayxjcCxpbnQocGVycyksc3RyKGZmZikseCkpO3N5cy5zdGRvdXQuZmx1c2goKQoJZm9yIHB3IGluIHB3djoKCQl0cnk6CgkJCXNlcy5oZWFkZXJzLnVwZGF0ZSh7Ikhvc3QiOidtYmFzaWMuZmFjZWJvb2suY29tJywidXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyI6IjEiLCJ1c2VyLWFnZW50Ijp1YTIsImFjY2VwdCI6InRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL2F2aWYsaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCpbaW5zZXJ0ZWQgYnkgY3l0aG9uIHRvIGF2b2lkIGNvbW1lbnQgY2xvc2VyXS9baW5zZXJ0ZWQgYnkgY3l0aG9uIHRvIGF2b2lkIGNvbW1lbnQgc3RhcnRdKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuOSIsImRudCI6IjEiLCJ4LXJlcXVlc3RlZC13aXRoIjoibWFyay52aWEuZ3AiLCJzZWMtZmV0Y2gtc2l0ZSI6InNhbWUtb3JpZ2luIiwic2VjLWZldGNoLW1vZGUiOiJjb3JzIiwic2VjLWZldGNoLXVzZXIiOiJlbXB0eSIsInNlYy1mZXRjaC1kZXN0IjoiZG9jdW1lbnQiLCJyZWZlcmVyIjoiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tLyIsImFjY2VwdC1lbmNvZGluZyI6Imd6aXAsIGRlZmxhdGUgYnIiLCJhY2NlcHQtbGFuZ3VhZ2UiOiJlbi1HQixlbi1VUztxPTAuOSxlbjtxPTAuOCJ9KQoJCQlwID0gc2VzLmdldCgnaHR0cHM6Ly9wLmZhY2Vib29rLmNvbS9sb2dpbi9kZXZpY2UtYmFzZWQvcGFzc3dvcmQvP3VpZD0nK2lkZisnJmZsb3c9bG9naW5fbm9fcGluJnJlZnNyYz1kZXByZWNhdGVkJl9yZHInKQoJCQlkYXRhYSA9eyJsc2QiOnJlLnNlYXJjaCgnbmFtZT0ibHNkIiB2YWx1ZT0iKC4qPykiJywgc3RyKHAudGV4dCkpLmdyb3VwKDEpLCJqYXpvZXN0IjpyZS5zZWFyY2goJ25hbWU9Imphem9lc3QiIHZhbHVlPSIoLio/KSInLCBzdHIocC50ZXh0KSkuZ3JvdXAoMSksInVpZCI6aWRmLCJuZXh0IjoiaHR0cHM6Ly9wLmZhY2Vib29rLmNvbS9sb2dpbi9zYXZlLWRldmljZS8iLCJmbG93IjoibG9naW5fbm9fcGluIiwicGFzcyI6cHcsfQoJCQlzZXMuaGVhZGVycy51cGRhdGUoeyJIb3N0IjonbWJhc2ljLmZhY2Vib29rLmNvbScsImNhY2hlLWNvbnRyb2wiOiJtYXgtYWdlPTAiLCJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIjoiMSIsIm9yaWdpbiI6Imh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbSIsImNvbnRlbnQtdHlwZSI6ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIsInVzZXItYWdlbnQiOnVhLCJhY2NlcHQiOiJ0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IGNsb3Nlcl0vW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IHN0YXJ0XSo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjkiLCJ4LXJlcXVlc3RlZC13aXRoIjoibWFyay52aWEuZ3AiLCJzZWMtZmV0Y2gtc2l0ZSI6InNhbWUtb3JpZ2luIiwic2VjLWZldGNoLW1vZGUiOiJjb3JzIiwic2VjLWZldGNoLXVzZXIiOiJlbXB0eSIsInNlYy1mZXRjaC1kZXN0IjoiZG9jdW1lbnQiLCJyZWZlcmVyIjonaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC9wYXNzd29yZC8/dWlkPScraWRmKycmZmxvdz1sb2dpbl9ub19waW4mcmVmc3JjPWRlcHJlY2F0ZWQmbG9jYWxlPWlkX0lEJl9yZHInLCJhY2NlcHQtZW5jb2RpbmciOiJnemlwLCBkZWZsYXRlIGJyIiwiYWNjZXB0LWxhbmd1YWdlIjoiZW4tR0IsZW4tVVM7cT0wLjksZW47cT0wLjgifSkKCQkJcG8gPSBzZXMucG9zdCgnaHR0cHM6Ly9wLmZhY2Vib29rLmNvbS9sb2dpbi9kZXZpY2UtYmFzZWQvdmFsaWRhdGUtcGFzc3dvcmQvP3NoYmw9MCcsZGF0YT1kYXRhYSxjb29raWVzPXsnY29va2llJzoga29raX0saGVhZGVycz1oZWFkZSxhbGxvd19yZWRpcmVjdHM9RmFsc2UscHJveGllcz1wcm94cykKCQkJa29raSA9ICgiOyIpLmpvaW4oWyAiJXM9JXMiICUgKGtleSwgdmFsdWUpIGZvciBrZXksIHZhbHVlIGluIHAuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkKCQkJa29raSs9JyBtX3BpeGVsX3JhdGlvPTIuNjI1OyB3ZD00MTJ4NzU2JwoJCQkKCQkJaWYgImNoZWNrcG9pbnQiIGluIHBvLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6CgkJCQlpZiAneWEnIGluIG9wcmVrOgoJCQkJCWFrdW4uYXBwZW5kKGlkZisnfCcrcHcpCgkJCQkJY2VrZXIoaWRmLHB3KQoJCQkJZWxpZiAneWEnIGluIHByaW5jcDoKCQkJCQlwcmludCgnXG4nKQoJCQkJCXN0YXR1c2NwID0gZidb4oCiXSBJRCAgICAgICA6IHtpZGZ9IFvigKJdIFBBU1NXT1JEIDoge3B3fScKCQkJCQlzdGF0dXNjcDEgPSBuZWwoc3RhdHVzY3AsIHN0eWxlPSdyZWQnKQoJCQkJCWNldGFrKG5lbChzdGF0dXNjcDEsIHRpdGxlPSdJbGhhbS1SZCBDUCcpKQoJCQkJCW9wZW4oJy9zZGNhcmQvUElOSy1EQVRBL0NQLycrY3BjLCdhJykud3JpdGUoaWRmKyd8JytwdysnXG4nKQoJCQkJCWFrdW4uYXBwZW5kKGlkZisnfCcrcHcpCgkJCQkJY3ArPTEKCQkJCWVsc2U6Y29udGludWUKCQkJCWJyZWFrCgkJCWVsaWYgImNfdXNlciIgaW4gc2VzLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6CgkJCQloZWFkYXBwPXsidXNlci1hZ2VudCI6IlN1cHBvcnRzRnJlc2NvPTEgRGFsdmlrLzIuMS4wIChMaW51eDsgVTsgQW5kcm9pZCA2LjAuMTsgU00tSjIxMEYgQnVpbGQvTU1CMjlRKSBTb3VyY2UvMSBbRkJBTi9FTUE7VU5JVFlfUEFDS0FHRS8zNDI7RkJCVi8xMDc1ODY3MDY7RkJBVi8xNzIuMC4wLjguMTgyO0ZCRFYvU00tSjIxMEY7RkJMQy9pZF9JRDtGQk9QLzIwXSJ9CgkJCQlpZiAnbm8nIGluIHRhcGxpa2FzaToKCQkJCQljb2tpPXBvLmNvb2tpZXMuZ2V0X2RpY3QoKQoJCQkJCWt1a2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkKCQkJCQlvcGVuKCcvc2RjYXJkLzRNQkYtREFUQS9PSy8nK29rYywnYScpLndyaXRlKGlkZisnfCcrcHcrJ3wnK2t1a2krJ1xuJykKCQkJCQlwcmludCgnXG4nKQoJCQkJCXN0YXR1c29rID0gZidb4oCiXSBJRCAgICAgICA6IHtpZGZ9XG5b4oCiXSBQQVNTV09SRCA6IHtwd31cblvigKJdIENPT0tJRVMgIDoge2t1a2l9JwoJCQkJCXN0YXR1c29rMSA9IG5lbChzdGF0dXNvaywgc3R5bGU9J2dyZWVuJykKCQkJCQljZXRhayhuZWwoc3RhdHVzb2sxLCB0aXRsZT0nQUhNQUQgQUxJIC0gWEQgT0snKSkKCQkJCQlvays9MQoJCQkJCWJyZWFrCgkJCQllbGlmICd5YScgaW4gdGFwbGlrYXNpOgoJCQkJCWNva2k9cG8uY29va2llcy5nZXRfZGljdCgpCgkJCQkJa3VraSA9ICgiOyIpLmpvaW4oWyAiJXM9JXMiICUgKGtleSwgdmFsdWUpIGZvciBrZXksIHZhbHVlIGluIHNlcy5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKSBdKQoJCQkJCW9wZW4oJy9zZGNhcmQvUElOSy1EQVRBL09LLycrb2tjLCdhJykud3JpdGUoaWRmKyd8JytwdysnfCcra3VraSsnXG4nKQoJCQkJCXVzZXI9aWRmCgkJCQkJaW5mb2FrdW4gPSAiIgoJCQkJCXNlc3Npb24gPSByZXF1ZXN0cy5TZXNzaW9uKCkKCQkJCQljZWsyID0gc2Vzc2lvbi5nZXQoImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9zZXR0aW5ncy9hcHBzL3RhYmJlZC8/dGFiPWluYWN0aXZlIixjb29raWVzPWNva2ksaGVhZGVycz1oZWFkYXBwKS50ZXh0CgkJCQkJY2VrID1zZXNzaW9uLmdldCgiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL3NldHRpbmdzL2FwcHMvdGFiYmVkLz90YWI9YWN0aXZlIixjb29raWVzPWNva2ksaGVhZGVycz1oZWFkYXBwKS50ZXh0CgkJCQkJaW5mb2FrdW4gKz0gKGYiXG5bYm9sZCBjeWFuXVvigKJdIExJU1QgQUNUSVZFIEFQUExJQ0FUSU9OUyA6Wy9ib2xkIGN5YW5dIFxuIikKCQkJCQlhcGtha3RpZj1yZS5maW5kYWxsKCc8L2k+PGRpdiBjbGFzcz0iLio/Ij48c3BhbiBjbGFzcz0iLio/Ij4oLio/KTwvc3Bhbj48ZGl2PjwvZGl2PjxkaXYgY2xhc3M9Ii4qPyI+KC4qPyk8L2Rpdj48L2Rpdj4nLHN0cihjZWspKQoJCQkJCW5vaz0xCgkJCQkJZm9yIG11bmN1bCBpbiBhcGtha3RpZjoKCQkJCQkJaW5mb2FrdW4rPSAoZiJbYm9sZCBjeWFuXVt7bm9rfV0ge211bmN1bFswXX0ge211bmN1bFsxXX1bL2JvbGQgY3lhbl1cbiIpCgkJCQkJCW5vays9MQoKCQkJCQloaXQ9MAoJCQkJCWluZm9ha3VuICs9IChmIlxuW2JvbGQgeWVsbG93XVvigKJdIExJU1QgRVhQSVJFRCBBUFBMSUNBVElPTlMgOlsvYm9sZCB5ZWxsb3ddXG4iKQoJCQkJCWFwa2V4cD1yZS5maW5kYWxsKCc8L2k+PGRpdiBjbGFzcz0iLio/Ij48c3BhbiBjbGFzcz0iLio/Ij4oLio/KTwvc3Bhbj48ZGl2PjwvZGl2PjxkaXYgY2xhc3M9Ii4qPyI+KC4qPyk8L2Rpdj48L2Rpdj4nLHN0cihjZWsyKSkKCQkJCQloaXQ9MAoJCQkJCWZvciBtdW5jdWwgaW4gYXBrZXhwOgoJCQkJCQloaXQrPTEKCQkJCQkJaW5mb2FrdW4gKz0gKGYiW2JvbGQgeWVsbG93XVt7aGl0fV0ge211bmN1bFswXX0ge211bmN1bFsxXX1bL2JvbGQgeWVsbG93XVxuIikKCQkJCQlwcmludCgnXG4nKQoJCQkJCXN0YXR1c29rID0gZidbYm9sZCBncmVlbl1b4oCiXSBJRCAgICAgICA6IHtpZGZ9XG5b4oCiXSBQQVNTV09SRCA6IHtwd31cblvigKJdIENPT0tJRVMgIDoge2t1a2l9Wy9ib2xkIGdyZWVuXVxue2luZm9ha3VufScKCQkJCQlzdGF0dXNvazEgPSBuZWwoc3RhdHVzb2ssIHN0eWxlPSdncmVlbicpCgkJCQkJY2V0YWsobmVsKHN0YXR1c29rMSwgdGl0bGU9J1tib2xkIGdyZWVuXVBJTkstWEQgT0tbL2JvbGQgZ3JlZW5dJykpCgkJCQkJb2srPTEKCQkJCQlicmVhawoKCgkJCWVsc2U6CgkJCQljb250aW51ZQoJCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQkJdGltZS5zbGVlcCgzMSkKCWxvb3ArPTEKIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIE1FVEhPREUtTVRPVUNIK01PQklMRS00IF0tLS0tLS0tLS0tLS0tLS0tLSMKZGVmIGNyYWNrbWJhc2ljKGlkZixwd3YpOgoJZ2xvYmFsIGxvb3Asb2ssY3AKCWJpID0gcmFuZG9tLmNob2ljZShbdSxrLGtrLGIsaCxoaF0pCglwZXJzID0gbG9vcCoxMDAvbGVuKGlkMikKCWZmZiA9ICclJwoJbmlwPXJhbmRvbS5jaG9pY2UocHJveCkKCXByb3hzPSB7J2h0dHAnOiAnc29ja3M1Oi8vJytuaXB9Cgl1YSA9IHJhbmRvbS5jaG9pY2UodWdlbikKCXVhMiA9IHJhbmRvbS5jaG9pY2UodWdlbjIpCglzZXMgPSByZXF1ZXN0cy5TZXNzaW9uKCkKCXN5cy5zdGRvdXQud3JpdGUoJ1xyJXMg4pisICVzLyVzIOKYrCBPSzolcyDimKwgQ1A6JXMg4pisICVzJXMlcyDimKwnJShiaSxsb29wLGxlbihpZDIpLG9rLGNwLGludChwZXJzKSxzdHIoZmZmKSx4KSk7c3lzLnN0ZG91dC5mbHVzaCgpCglmb3IgcHcgaW4gcHd2OgoJCXRyeToKCQkJc2VzLmhlYWRlcnMudXBkYXRlKHsnSG9zdCc6ICdtYmFzaWMuZmFjZWJvb2suY29tJywnY2FjaGUtY29udHJvbCc6ICdtYXgtYWdlPTAnLCdzZWMtY2gtdWEtbW9iaWxlJzogJz8xJywndXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyc6ICcxJywndXNlci1hZ2VudCc6IHVhLCdhY2NlcHQnOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45Jywnc2VjLWZldGNoLXNpdGUnOiAnc2FtZS1vcmlnaW4nLCdzZWMtZmV0Y2gtbW9kZSc6ICdjb3JzJywnc2VjLWZldGNoLWRlc3QnOiAnZW1wdHknLCdhY2NlcHQtbGFuZ3VhZ2UnOiAnaWQtSUQsaWQ7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcnfSkKCQkJcCA9IHNlcy5nZXQoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi9kZXZpY2UtYmFzZWQvcGFzc3dvcmQvP3VpZD0nK2lkZisnJmZsb3c9bG9naW5fbm9fcGluJnJlZnNyYz1kZXByZWNhdGVkJl9yZHInKQoJCQlkYXRhYSA9eyJsc2QiOnJlLnNlYXJjaCgnbmFtZT0ibHNkIiB2YWx1ZT0iKC4qPykiJywgc3RyKHAudGV4dCkpLmdyb3VwKDEpLCJqYXpvZXN0IjpyZS5zZWFyY2goJ25hbWU9Imphem9lc3QiIHZhbHVlPSIoLio/KSInLCBzdHIocC50ZXh0KSkuZ3JvdXAoMSksInVpZCI6aWRmLCJuZXh0IjoiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luL3NhdmUtZGV2aWNlLyIsImZsb3ciOiJsb2dpbl9ub19waW4iLCJwYXNzIjpwdyx9CgkJCWtva2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBwLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpIF0pCgkJCWtva2krPScgbV9waXhlbF9yYXRpbz0yLjYyNTsgd2Q9NDEyeDc1NicKCQkJaGVhZGU9eydIb3N0JzogJ21iYXNpYy5mYWNlYm9vay5jb20nLCdjYWNoZS1jb250cm9sJzogJ21heC1hZ2U9MCcsJ3NlYy1jaC11YSc6ICciIE5vdCBBO0JyYW5kIjt2PSI5OSIsICJDaHJvbWl1bSI7dj0iOTgiJywnc2VjLWNoLXVhLW1vYmlsZSc6ICc/MScsJ3NlYy1jaC11YS1wbGF0Zm9ybSc6ICciQW5kcm9pZCInLCd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogJzEnLCdvcmlnaW4nOiAnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tJywnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsJ3VzZXItYWdlbnQnOiB1YSwnYWNjZXB0JzogJ3RleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL2F2aWYsaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuOScsJ3gtcmVxdWVzdGVkLXdpdGgnOiAnWE1MSHR0cFJlcXVlc3QnLCdzZWMtZmV0Y2gtc2l0ZSc6ICdzYW1lLW9yaWdpbicsJ3NlYy1mZXRjaC1tb2RlJzogJ2NvcnMnLCdzZWMtZmV0Y2gtZGVzdCc6ICdlbXB0eScsJ3JlZmVyZXInOiAnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC9wYXNzd29yZC8/dWlkPScraWRmKycmZmxvdz1sb2dpbl9ub19waW4mcmVmc3JjPWRlcHJlY2F0ZWQmX3JkcicsJ2FjY2VwdC1lbmNvZGluZyc6ICdnemlwLCBkZWZsYXRlLCBicicsJ2FjY2VwdC1sYW5ndWFnZSc6ICdmcl9GUixmcjtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNycsJ2Nvbm5lY3Rpb24nOiAnY2xvc2UnfQoJCQlwbyA9IHNlcy5wb3N0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vbG9naW4vZGV2aWNlLWJhc2VkL3ZhbGlkYXRlLXBhc3N3b3JkLz9zaGJsPTAnLGRhdGE9ZGF0YWEsY29va2llcz17J2Nvb2tpZSc6IGtva2l9LGhlYWRlcnM9aGVhZGUsYWxsb3dfcmVkaXJlY3RzPUZhbHNlLHByb3hpZXM9cHJveHMpCgkJCWlmICJjaGVja3BvaW50IiBpbiBwby5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOgoJCQkJaWYgJ3lhJyBpbiBvcHJlazoKCQkJCQlha3VuLmFwcGVuZChpZGYrJ3wnK3B3KQoJCQkJCWNla2VyKGlkZixwdykKCQkJCWVsaWYgJ3lhJyBpbiBwcmluY3A6CgkJCQkJcHJpbnQoJ1xuJykKCQkJCQlzdGF0dXNjcCA9IGYnW+KAol0gSUQgICAgICAgOiB7aWRmfSBb4oCiXSBQQVNTV09SRCA6IHtwd30nCgkJCQkJc3RhdHVzY3AxID0gbmVsKHN0YXR1c2NwLCBzdHlsZT0ncmVkJykKCQkJCQljZXRhayhuZWwoc3RhdHVzY3AxLCB0aXRsZT0nUElOSy1YRCBDUCcpKQoJCQkJCW9wZW4oJy9zZGNhcmQvUElOSy1EQVRBL0NQLycrY3BjLCdhJykud3JpdGUoaWRmKyd8JytwdysnXG4nKQoJCQkJCWFrdW4uYXBwZW5kKGlkZisnfCcrcHcpCgkJCQkJY3ArPTEKCQkJCWVsc2U6Y29udGludWUKCQkJCWJyZWFrCgkJCWVsaWYgImNfdXNlciIgaW4gc2VzLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6CgkJCQloZWFkYXBwPXsidXNlci1hZ2VudCI6IlN1cHBvcnRzRnJlc2NvPTEgRGFsdmlrLzIuMS4wIChMaW51eDsgVTsgQW5kcm9pZCA2LjAuMTsgU00tSjIxMEYgQnVpbGQvTU1CMjlRKSBTb3VyY2UvMSBbRkJBTi9FTUE7VU5JVFlfUEFDS0FHRS8zNDI7RkJCVi8xMDc1ODY3MDY7RkJBVi8xNzIuMC4wLjguMTgyO0ZCRFYvU00tSjIxMEY7RkJMQy9pZF9JRDtGQk9QLzIwXSJ9CgkJCQlpZiAnbm8nIGluIHRhcGxpa2FzaToKCQkJCQljb2tpPXBvLmNvb2tpZXMuZ2V0X2RpY3QoKQoJCQkJCWt1a2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkKCQkJCQlvcGVuKCcvc2RjYXJkL1BJTkstREFUQS9PSy8nK29rYywnYScpLndyaXRlKGlkZisnfCcrcHcrJ3wnK2t1a2krJ1xuJykKCQkJCQlwcmludCgnXG4nKQoJCQkJCXN0YXR1c29rID0gZidb4oCiXSBJRCAgICAgICA6IHtpZGZ9XG5b4oCiXSBQQVNTV09SRCA6IHtwd31cblvigKJdIENPT0tJRVMgIDoge2t1a2l9JwoJCQkJCXN0YXR1c29rMSA9IG5lbChzdGF0dXNvaywgc3R5bGU9J2dyZWVuJykKCQkJCQljZXRhayhuZWwoc3RhdHVzb2sxLCB0aXRsZT0nT0snKSkKCQkJCQlvays9MQoJCQkJCWJyZWFrCgkJCQllbGlmICd5YScgaW4gdGFwbGlrYXNpOgoJCQkJCWNva2k9cG8uY29va2llcy5nZXRfZGljdCgpCgkJCQkJa3VraSA9ICgiOyIpLmpvaW4oWyAiJXM9JXMiICUgKGtleSwgdmFsdWUpIGZvciBrZXksIHZhbHVlIGluIHNlcy5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKSBdKQoJCQkJCW9wZW4oJy9zZGNhcmQvUElOSy1EQVRBL09LLycrb2tjLCdhJykud3JpdGUoaWRmKyd8JytwdysnfCcra3VraSsnXG4nKQoJCQkJCXVzZXI9aWRmCgkJCQkJaW5mb2FrdW4gPSAiIgoJCQkJCXNlc3Npb24gPSByZXF1ZXN0cy5TZXNzaW9uKCkKCQkJCQljZWsyID0gc2Vzc2lvbi5nZXQoImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9zZXR0aW5ncy9hcHBzL3RhYmJlZC8/dGFiPWluYWN0aXZlIixjb29raWVzPWNva2ksaGVhZGVycz1oZWFkYXBwKS50ZXh0CgkJCQkJY2VrID1zZXNzaW9uLmdldCgiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL3NldHRpbmdzL2FwcHMvdGFiYmVkLz90YWI9YWN0aXZlIixjb29raWVzPWNva2ksaGVhZGVycz1oZWFkYXBwKS50ZXh0CgkJCQkJaW5mb2FrdW4gKz0gKGYiXG5bYm9sZCBjeWFuXVvigKJdIExJU1QgQUNUSVZFIEFQUExJQ0FUSU9OUyA6Wy9ib2xkIGN5YW5dIFxuIikKCQkJCQlhcGtha3RpZj1yZS5maW5kYWxsKCc8L2k+PGRpdiBjbGFzcz0iLio/Ij48c3BhbiBjbGFzcz0iLio/Ij4oLio/KTwvc3Bhbj48ZGl2PjwvZGl2PjxkaXYgY2xhc3M9Ii4qPyI+KC4qPyk8L2Rpdj48L2Rpdj4nLHN0cihjZWspKQoJCQkJCW5vaz0xCgkJCQkJZm9yIG11bmN1bCBpbiBhcGtha3RpZjoKCQkJCQkJaW5mb2FrdW4rPSAoZiJbYm9sZCBjeWFuXVt7bm9rfV0ge211bmN1bFswXX0ge211bmN1bFsxXX1bL2JvbGQgY3lhbl1cbiIpCgkJCQkJCW5vays9MQoKCQkJCQloaXQ9MAoJCQkJCWluZm9ha3VuICs9IChmIlxuW2JvbGQgeWVsbG93XVvigKJdIExJU1QgRVhQSVJFRCBBUFBMSUNBVElPTlMgOlsvYm9sZCB5ZWxsb3ddXG4iKQoJCQkJCWFwa2V4cD1yZS5maW5kYWxsKCc8L2k+PGRpdiBjbGFzcz0iLio/Ij48c3BhbiBjbGFzcz0iLio/Ij4oLio/KTwvc3Bhbj48ZGl2PjwvZGl2PjxkaXYgY2xhc3M9Ii4qPyI+KC4qPyk8L2Rpdj48L2Rpdj4nLHN0cihjZWsyKSkKCQkJCQloaXQ9MAoJCQkJCWZvciBtdW5jdWwgaW4gYXBrZXhwOgoJCQkJCQloaXQrPTEKCQkJCQkJaW5mb2FrdW4gKz0gKGYiW2JvbGQgeWVsbG93XVt7aGl0fV0ge211bmN1bFswXX0ge211bmN1bFsxXX1bL2JvbGQgeWVsbG93XVxuIikKCQkJCQlwcmludCgnXG4nKQoJCQkJCXN0YXR1c29rID0gZidbYm9sZCBncmVlbl1b4oCiXSBJRCAgICAgICA6IHtpZGZ9XG5b4oCiXSBQQVNTV09SRCA6IHtwd31cblvigKJdIENPT0tJRVMgIDoge2t1a2l9Wy9ib2xkIGdyZWVuXVxue2luZm9ha3VufScKCQkJCQlzdGF0dXNvazEgPSBuZWwoc3RhdHVzb2ssIHN0eWxlPSdncmVlbicpCgkJCQkJY2V0YWsobmVsKHN0YXR1c29rMSwgdGl0bGU9J1tib2xkIGdyZWVuXVBJTkstWEQgT0tbL2JvbGQgZ3JlZW5dJykpCgkJCQkJb2srPTEKCQkJCQlicmVhawoJCQllbHNlOgoJCQkJY29udGludWUKCQlleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CgkJCXRpbWUuc2xlZXAoMzEpCglsb29wKz0xCiMtLS0tLS0tLS0tLS0tLS0tLS0tLVsgQ0hFQ0stT1BTSS1DSEVLUE9JTlQgXS0tLS0tLS0tLS0tLS0tLS0tLS0jCmRlZiBjZWtlcihpZGYscHcpOgoJZ2xvYmFsIGNwCgl1YSA9ICdNb3ppbGxhLzUuMCAoWDExOyBMaW51eCB4ODZfNjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS85OC4wLjQ3NTguMTI4IFNhZmFyaS81MzcuMzYgRkJNRi9IVUFXRUk7RkJCRC9IVUFXRUk7RkJQTi9jb20uZmFjZWJvb2suc2VydmljZXM7RkJEVi9FVlItTDI5O0ZCU1YvMTA7RkJMUi8wO0ZCQksvMTtGQkNBL2FybTY0LXY4YTo7XScKCWhlYWQgPSB7Ikhvc3QiOiAibWJhc2ljLmZhY2Vib29rLmNvbSIsImNhY2hlLWNvbnRyb2wiOiAibWF4LWFnZT0wIiwidXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyI6ICIxIiwib3JpZ2luIjogImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbSIsImNvbnRlbnQtdHlwZSI6ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLCJ1c2VyLWFnZW50IjogdWEsImFjY2VwdCI6ICJ0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45IiwieC1yZXF1ZXN0ZWQtd2l0aCI6ICJtYXJrLnZpYS5ncCIsInNlYy1mZXRjaC1zaXRlIjogInNhbWUtb3JpZ2luIiwic2VjLWZldGNoLW1vZGUiOiAibmF2aWdhdGUiLCJzZWMtZmV0Y2gtdXNlciI6ICI/MSIsInNlYy1mZXRjaC1kZXN0IjogImRvY3VtZW50IiwicmVmZXJlciI6ICJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vbG9naW4vP25leHQmcmVmPWRibCZmbCZyZWZpZD04IiwiYWNjZXB0LWVuY29kaW5nIjogImd6aXAsIGRlZmxhdGUiLCJhY2NlcHQtbGFuZ3VhZ2UiOiAiaWQtSUQsaWQ7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcifQoJc2VzID0gcmVxdWVzdHMuU2Vzc2lvbigpCgl0cnk6CgkJaGkgPSBzZXMuZ2V0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20nKQoJCWhvID0gc29wKHNlcy5wb3N0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vbG9naW4ucGhwJywgZGF0YT17J2VtYWlsJzppZGYsJ3Bhc3MnOnB3LCdsb2dpbic6J3N1Ym1pdCd9LCBoZWFkZXJzPWhlYWQsIGFsbG93X3JlZGlyZWN0cz1UcnVlKS50ZXh0LCdodG1sLnBhcnNlcicpCgkJam8gPSBoby5maW5kKCdmb3JtJykKCQlkYXRhID0ge30KCQlsaW9uID0gWyduaCcsJ2phem9lc3QnLCdmYl9kdHNnJywnc3VibWl0W0NvbnRpbnVlXScsJ2NoZWNrcG9pbnRfZGF0YSddCgkJZm9yIGFuaiBpbiBqbygnaW5wdXQnKToKCQkJaWYgYW5qLmdldCgnbmFtZScpIGluIGxpb246CgkJCQlkYXRhLnVwZGF0ZSh7YW5qLmdldCgnbmFtZScpOmFuai5nZXQoJ3ZhbHVlJyl9KQoJCWtlbnQgPSBzb3Aoc2VzLnBvc3QoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbScrc3RyKGpvWydhY3Rpb24nXSksIGRhdGE9ZGF0YSwgaGVhZGVycz1oZWFkKS50ZXh0LCdodG1sLnBhcnNlcicpCgkJcHJpbnQoJ1xyJXMrKysrICVzfCVzIC0tLS0+IENQICAgICAgICVzJyUoYixpZGYscHcseCkpCgkJb3BlbignQ1AvJytjcGMsJ2EnKS53cml0ZShpZGYrJ3wnK3B3KydcbicpCgkJY3ArPTEKCQlvcHNpID0ga2VudC5maW5kX2FsbCgnb3B0aW9uJykKCQlpZiBsZW4ob3BzaSk9PTA6CgkJCXByaW50KCdcciVzLS0tPiBUYXAgWWVzIC8gQTJGIChDZWsgTG9naW4gRGkgTGl0ZS9NYmFzaWMlcyknJShoaCx4KSkKCQllbHNlOgoJCQlmb3Igb3BzaWkgaW4gb3BzaToKCQkJCXByaW50KCdcciVzLS0tPiAlcyVzJyUoa2ssb3BzaWkudGV4dCx4KSkKCWV4Y2VwdCBFeGNlcHRpb24gYXMgYzoKCQlwcmludCgnXHIlcysrKysgJXN8JXMgLS0tLT4gQ1AgICAgICAgJXMnJShiLGlkZixwdyx4KSkKCQlwcmludCgnXHIlcy0tLT4gVGlkYWsgRGFwYXQgTWVuZ2VjZWsgT3BzaSAoQ2VrIExvZ2luIERpIExpdGUvTWJhc2ljKSVzJyUodSx4KSkKCQlvcGVuKCdDUC8nK2NwYywnYScpLndyaXRlKGlkZisnfCcrcHcrJ1xuJykKCQljcCs9MQojLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIENIRUNLLU9QU0ktQ0hFS1BPSU5ULTIgXS0tLS0tLS0tLS0tLS0tLS0jCmRlZiBjZWtfb3BzaSgpOgoJYyA9IGxlbihha3VuKQoJaHUgPSAnVGVyZGFwYXQgJXMgQWt1biBVbnR1ayBEaWNla1xuU2ViZWx1bSBNdWxhaSwgTW9kZSBQZXNhd2F0L1ViYWggS2FydHUgU2ltIFRlcmxlYmloIERhaHVsdSclKGMpCgljZXRhayhuZWwoaHUsIHRpdGxlPSdDRUsgT1BTSScpKQoJaW5wdXQodSsnWycraCsn4oCiJyt1KyddIE11bGFpJykKCWNlayA9ICcjIFBST1NFUyBDRUsgT1BTSSBESU1VTEFJJwoJc29sKCkucHJpbnQobWFyayhjZWssIHN0eWxlPSdncmVlbicpKQoJbG92ZSA9IDAKCWZvciBrZXMgaW4gYWt1bjoKCQl0cnk6CgkJCXRyeToKCQkJCWlkLHB3ID0ga2VzLnNwbGl0KCd8JylbMF0sa2VzLnNwbGl0KCd8JylbMV0KCQkJZXhjZXB0IEluZGV4RXJyb3I6CgkJCQl0aW1lLnNsZWVwKDIpCgkJCQlwcmludCgnXHIlcysrKysgJXMgLS0tLT4gRXJyb3IgICAgICAlcyclKGIsa2VzLHgpKQoJCQkJcHJpbnQoJ1xyJXMtLS0+IFBlbWlzYWggVGlkYWsgRGlkdWt1bmcgVW50dWsgUHJvZ3JhbSBJbmklcyclKHUseCkpCgkJCQljb250aW51ZQoJCQliaSA9IHJhbmRvbS5jaG9pY2UoW3UsayxrayxiLGgsaGhdKQoJCQlwcmludCgnXHIlcy0tLT4gJXMvJXMgLS0tPiB7ICVzIH0lcyclKGJpLGxvdmUsbGVuKGFrdW4pLGlkLHgpLCBlbmQ9JyAnKTtzeXMuc3Rkb3V0LmZsdXNoKCkKCQkJdWEgPSAnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDExOyBURUNOTyBLRDgpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS85OC4wLjQ3NTUuMTAxIE1vYmlsZSBTYWZhcmkvNTM3LjM2JwoJCQlzZXMgPSByZXF1ZXN0cy5TZXNzaW9uKCkKCQkJaGVhZGVyID0geyJIb3N0IjogIm1iYXNpYy5mYWNlYm9vay5jb20iLCJjYWNoZS1jb250cm9sIjogIm1heC1hZ2U9MCIsInVwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMiOiAiMSIsIm9yaWdpbiI6ICJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20iLCJjb250ZW50LXR5cGUiOiAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiwidXNlci1hZ2VudCI6IHVhLCJhY2NlcHQiOiAidGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuOSIsIngtcmVxdWVzdGVkLXdpdGgiOiAibWFyay52aWEuZ3AiLCJzZWMtZmV0Y2gtc2l0ZSI6ICJzYW1lLW9yaWdpbiIsInNlYy1mZXRjaC1tb2RlIjogIm5hdmlnYXRlIiwic2VjLWZldGNoLXVzZXIiOiAiPzEiLCJzZWMtZmV0Y2gtZGVzdCI6ICJkb2N1bWVudCIsInJlZmVyZXIiOiAiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luLz9uZXh0JnJlZj1kYmwmZmwmcmVmaWQ9OCIsImFjY2VwdC1lbmNvZGluZyI6ICJnemlwLCBkZWZsYXRlIiwiYWNjZXB0LWxhbmd1YWdlIjogImlkLUlELGlkO3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43In0KCQkJaGkgPSBzZXMuZ2V0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20nKQoJCQlobyA9IHNvcChzZXMucG9zdCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luLnBocCcsIGRhdGE9eydlbWFpbCc6aWQsJ3Bhc3MnOnB3LCdsb2dpbic6J3N1Ym1pdCd9LCBoZWFkZXJzPWhlYWRlciwgYWxsb3dfcmVkaXJlY3RzPVRydWUpLnRleHQsJ2h0bWwucGFyc2VyJykKCQkJaWYgImNoZWNrcG9pbnQiIGluIHNlcy5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOgoJCQkJdHJ5OgoJCQkJCWpvID0gaG8uZmluZCgnZm9ybScpCgkJCQkJZGF0YSA9IHt9CgkJCQkJbGlvbiA9IFsnbmgnLCdqYXpvZXN0JywnZmJfZHRzZycsJ3N1Ym1pdFtDb250aW51ZV0nLCdjaGVja3BvaW50X2RhdGEnXQoJCQkJCWZvciBhbmogaW4gam8oJ2lucHV0Jyk6CgkJCQkJCWlmIGFuai5nZXQoJ25hbWUnKSBpbiBsaW9uOgoJCQkJCQkJZGF0YS51cGRhdGUoe2Fuai5nZXQoJ25hbWUnKTphbmouZ2V0KCd2YWx1ZScpfSkKCQkJCQlrZW50ID0gc29wKHNlcy5wb3N0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20nK3N0cihqb1snYWN0aW9uJ10pLCBkYXRhPWRhdGEsIGhlYWRlcnM9aGVhZGVyKS50ZXh0LCdodG1sLnBhcnNlcicpCgkJCQkJcHJpbnQoJ1xyJXMrKysrICVzfCVzIC0tLS0+IENQICAgICAgICVzJyUoYixpZCxwdyx4KSkKCQkJCQlvcHNpID0ga2VudC5maW5kX2FsbCgnb3B0aW9uJykKCQkJCQlpZiBsZW4ob3BzaSk9PTA6CgkJCQkJCXByaW50KCdcciVzLS0tPiBUYXAgWWVzIC8gQTJGIChDZWsgTG9naW4gRGkgTGl0ZS9NYmFzaWMlcyknJShoaCx4KSkKCQkJCQllbHNlOgoJCQkJCQlmb3Igb3BzaWkgaW4gb3BzaToKCQkJCQkJCXByaW50KCdcciVzLS0tPiAlcyVzJyUoa2ssb3BzaWkudGV4dCx4KSkKCQkJCWV4Y2VwdDoKCQkJCQlwcmludCgnXHIlcysrKysgJXN8JXMgLS0tLT4gQ1AgICAgICAgJXMnJShiLGlkLHB3LHgpKQoJCQkJCXByaW50KCdcciVzLS0tPiBUaWRhayBEYXBhdCBNZW5nZWNlayBPcHNpJXMnJSh1LHgpKQoJCQllbGlmICJjX3VzZXIiIGluIHNlcy5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOgoJCQkJcHJpbnQoJ1xyJXMrKysrICVzfCVzIC0tLS0+IE9LICAgICAgICVzJyUoaCxpZCxwdyx4KSkKCQkJZWxzZToKCQkJCXByaW50KCdcciVzKysrKyAlc3wlcyAtLS0tPiBTQUxBSCAgICAgICAlcyclKHgsaWQscHcseCkpCgkJCWxvdmUrPTEKCQlleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CgkJCXByaW50KCcnKQoJCQlsaSA9ICcjIEtPTkVLU0kgSU5URVJORVQgQkVSTUFTQUxBSCwgUEVSSUtTQSAmIENPQkEgTEFHSScKCQkJc29sKCkucHJpbnQobWFyayhsaSwgc3R5bGU9J3JlZCcpKQoJCQlleGl0KCkKCWRhaCA9ICcjIERPTkUnCglzb2woKS5wcmludChtYXJrKGRhaCwgc3R5bGU9J2dyZWVuJykpCglleGl0KCkKIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS1bIENFSy1BUExJS0FTSSBdLS0tLS0tLS0tLS0tLS0tLS0tLS0tIwpkZWYgY2VrX2FwayhzZXNzaW9uLGNvb2tpZSk6Cgl3PXNlc3Npb24uZ2V0KCJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vc2V0dGluZ3MvYXBwcy90YWJiZWQvP3RhYj1hY3RpdmUiLGNvb2tpZXM9eyJjb29raWUiOmNvb2tpZX0pLnRleHQKCXNvcCA9IEJlYXV0aWZ1bFNvdXAodywiaHRtbC5wYXJzZXIiKQoJeCA9IHNvcC5maW5kKCJmb3JtIixtZXRob2Q9InBvc3QiKQoJZ2FtZSA9IFtpLnRleHQgZm9yIGkgaW4geC5maW5kX2FsbCgiaDMiKV0KCWlmIGxlbihnYW1lKT09MDoKCQlwcmludChmIlxuIHtOfVt7TX0he059XSBvcHNoaCB0aWRhayBhZGEgYXBsaWthc2kgYWt0aWYgZGkgYWt1biBpbmkuIikKCWVsc2U6CgkJZm9yIGkgaW4gcmFuZ2UobGVuKGdhbWUpKToKCQkJcHJpbnQoIiAgICVzJXMuICVzJXMiJShILGkrMSxnYW1lW2ldLnJlcGxhY2UoIkRpdGFtYmFoa2FuIHBhZGEiLCIgRGl0YW1iYWhrYW4gcGFkYSIpLE4pKQoJdz1zZXNzaW9uLmdldCgiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL3NldHRpbmdzL2FwcHMvdGFiYmVkLz90YWI9aW5hY3RpdmUiLGNvb2tpZXM9eyJjb29raWUiOmNvb2tpZX0pLnRleHQKCXNvcCA9IEJlYXV0aWZ1bFNvdXAodywiaHRtbC5wYXJzZXIiKQoJeCA9IHNvcC5maW5kKCJmb3JtIixtZXRob2Q9InBvc3QiKQoJZ2FtZSA9IFtpLnRleHQgZm9yIGkgaW4geC5maW5kX2FsbCgiaDMiKV0KCWlmIGxlbihnYW1lKT09MDoKCQlwcmludChmIlxuIHtOfVt7TX0he059XSBvcHNoaCB0aWRhayBhZGEgYXBsaWthc2kga2FkYWx1YXJzYSBkaSBha3VuIGluaS4iKQoJZWxzZToKCQlmb3IgaSBpbiByYW5nZShsZW4oZ2FtZSkpOgoJCQlwcmludCgiICAgJXMlcy4gJXMlcyIlKEssaSsxLGdhbWVbaV0ucmVwbGFjZSgiS2VkYWx1d2Fyc2EiLCIgS2VkYWx1d2Fyc2EiKSxOKSkKCiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVsgU1lTVEVNLUNPTlRST0wgXS0tLS0tLS0tLS0tLS0tLS0tLS0tIwppZiBfX25hbWVfXz09J19fbWFpbl9fJzoKCXRyeTpvcy5zeXN0ZW0oJ2dpdCBwdWxsJykKCWV4Y2VwdDpwYXNzCgl0cnk6b3MubWtkaXIoJ09LJykKCWV4Y2VwdDpwYXNzCgl0cnk6b3MubWtkaXIoJ0NQJykKCWV4Y2VwdDpwYXNzCgl0cnk6b3MubWtkaXIoJ0RVTVAnKQoJZXhjZXB0OnBhc3MKCXRyeTpvcy5zeXN0ZW0oJ3RvdWNoIC5wcm94LnR4dCcpCglleGNlcHQ6cGFzcwoJbG9naW4oKQoKIz4+Pj4+IFRIQU5LUyBUTyBUSElTIEhFUkUgPDw8PDw8PCMK'))